import{M as u}from"./HasLoader-a564cfe6.js";import{A as d}from"./AppLayout-40f8bbe7.js";import{B as f}from"./ErrorNotifications-090d6193.js";import g from"./Form-bfa72458.js";import{s as L,o as _}from"./alert-fe3154bb.js";import{I as i,H as b,f as h,p as l,i as y,r as n,o as C}from"./vue-loading.min-a6a947f0.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./Breadcrumbs-f0ae94d4.js";import"./Link-359d994c.js";import"./utils-caa7a80b.js";import"./NavbarItem-766600c9.js";import"./HasPageErrors-da5616c1.js";import"./Button-03e0d3fd.js";import"./ButtonLink-abb08373.js";import"./Input-137492c5.js";import"./Field-a8082082.js";import"./Field-e1691255.js";import"./Input-4c73d710.js";import"./InputError-9b7084c8.js";import"./Slug-e3370d8d.js";import"./InputAddons-7c9a4924.js";import"./ButtonIcon-b1d1d2b0.js";import"./Icon-6def3c13.js";import"./icon-class-4ab3933f.js";import"./Textarea-0e8af5bc.js";import"./Textarea-fb59ae31.js";import"./LanguageTab-ce3e8bfb.js";import"./sweetalert2.all-7b2d1616.js";const v={name:"CategoryCreate",components:{BizErrorNotifications:f,CategoryForm:g},mixins:[u],layout:d,props:{baseRouteName:{type:String,required:!0},errors:{type:Object,default:()=>{}},title:{type:String,required:!0}},setup(){const e=i().props.value.defaultLanguage,o={[e]:{name:null,slug:null,meta_title:null,meta_description:null}};return{defaultLocale:e,form:b(o),localeOptions:i().props.value.languageOptions}},data(){return{isNew:!0,isProcessing:!1,selectedLocale:this.defaultLocale}},methods:{submit(){const e=this;e.form.post(route(e.baseRouteName+".store"),{onStart:()=>{e.onStartLoadingOverlay(),e.isProcessing=!0},onSuccess:o=>{L(o.props.flash.message)},onFinish:()=>{e.onEndLoadingOverlay(),e.isProcessing=!1}})},onChangeLocale(){let e={};this.localeOptions.map(o=>{o.id==this.defaultLocale&&(e=o)}),_({text:"Please provide "+e.name+" ("+e.id.toUpperCase()+") translation first!"})}}},N={class:"box mb-6"};function S(e,o,s,t,r,a){const m=n("biz-error-notifications"),c=n("category-form");return C(),h("div",null,[l(m,{errors:e.$page.props.errors},null,8,["errors"]),y("div",N,[l(c,{modelValue:t.form[r.selectedLocale],"onUpdate:modelValue":o[0]||(o[0]=p=>t.form[r.selectedLocale]=p),"base-route":s.baseRouteName,"default-locale":t.defaultLocale,errors:s.errors,"is-input-disabled":r.isProcessing,"is-new":r.isNew,"locale-options":t.localeOptions,"selected-locale":r.selectedLocale,onOnChangeLocale:a.onChangeLocale,onOnSubmit:a.submit},null,8,["modelValue","base-route","default-locale","errors","is-input-disabled","is-new","locale-options","selected-locale","onOnChangeLocale","onOnSubmit"])])])}const ee=O(v,[["render",S]]);export{ee as default};
