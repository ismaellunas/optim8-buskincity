import{M as C}from"./FilterDataHandle-94157290.js";import{B as q}from"./Checkbox-8d9a17c8.js";import{B as w,a as D}from"./Dropdown-5425ae3a.js";import{B as E}from"./Search-cafe34ab.js";import{B as N}from"./Icon-150b61ef.js";import{B as P}from"./TableIndex-6b2a4ef8.js";import V from"./ListItem-dff2ebef.js";import{i as F}from"./icon-class-4ab3933f.js";import{o as L}from"./alert-e0e75cb7.js";import{l as O,f as m,i as t,p as a,q as s,s as u,r as n,o as l,t as _,k as h,F as f,j as g,u as b}from"./vue-loading.min-aa20e13d.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import"./HasLoader-a564cfe6.js";import"./Button-b3acaac2.js";import"./utils-79a9c8b1.js";import"./ButtonIcon-05c24ca4.js";import"./Field-c2e062a9.js";import"./Input-2fb71e37.js";import"./Pagination-8d9b0028.js";import"./Link-2bcf0cab.js";import"./Table-2efbef14.js";import"./TableInfo-c372d0e5.js";import"./Tag-083af5c2.js";import"./sweetalert2.all-ebd52f41.js";const U={name:"UserListDeleted",components:{BizCheckbox:q,BizDropdown:w,BizDropdownItem:D,BizFilterSearch:E,BizIcon:N,BizTableIndex:P,UserListItem:V},mixins:[C],inject:["baseRouteName","roleOptions"],data(){return{icon:F,queryParams:{},records:{},roles:[],term:null}},computed:{isRecordsEmpty(){return O.isEmpty(this.records)}},mounted(){this.getRecords()},methods:{getRecords(i=null){const e=this;i||(i=route(e.baseRouteName+".trashed-records")),e.onStartLoadingOverlay(),axios.get(i,{params:e.queryParams}).then(d=>{e.records=d.data}).catch(d=>{L()}).then(()=>{e.onEndLoadingOverlay()})},search(i){this.queryParams.term=i,this.getRecords()},onRoleChanged(){this.queryParams.roles=this.roles,this.getRecords()}}},I={key:0},j={class:"columns"},M={class:"column is-one-third"},T={class:"column"},H=t("span",null,"Filter",-1),A={key:0,class:"ml-1"},G=t("tr",null,[t("th",null,"#"),t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Role")],-1);function J(i,e,d,K,o,c){const y=n("biz-filter-search"),z=n("biz-icon"),p=n("biz-dropdown-item"),k=n("biz-checkbox"),x=n("biz-dropdown"),B=n("user-list-item"),R=n("biz-table-index");return c.isRecordsEmpty?u("",!0):(l(),m("div",I,[t("div",j,[t("div",M,[a(y,{modelValue:o.term,"onUpdate:modelValue":e[0]||(e[0]=r=>o.term=r),onSearch:c.search},null,8,["modelValue","onSearch"])]),t("div",T,[a(x,{"close-on-click":!1},{trigger:s(()=>[H,o.roles.length>0?(l(),m("span",A," ("+_(o.roles.length)+") ",1)):u("",!0),a(z,{icon:o.icon.angleDown},null,8,["icon"])]),default:s(()=>[a(p,null,{default:s(()=>[h(" Filter by Role ")]),_:1}),(l(!0),m(f,null,g(c.roleOptions,r=>(l(),b(p,{key:r.id},{default:s(()=>[a(k,{checked:o.roles,"onUpdate:checked":e[1]||(e[1]=v=>o.roles=v),value:r.id,onChange:c.onRoleChanged},{default:s(()=>[h(" Â  "+_(r.value),1)]),_:2},1032,["checked","value","onChange"])]),_:2},1024))),128))]),_:1})])]),a(R,{"is-ajax-pagination":!0,"query-params":o.queryParams,records:o.records,onOnClickedPagination:c.getRecords},{thead:s(()=>[G]),default:s(()=>[(l(!0),m(f,null,g(o.records.data,r=>(l(),b(B,{key:r.id,user:r},null,8,["user"]))),128))]),_:1},8,["query-params","records","onOnClickedPagination"])]))}const ge=S(U,[["render",J]]);export{ge as default};
