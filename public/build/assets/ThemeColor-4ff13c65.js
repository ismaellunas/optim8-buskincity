import{M as g}from"./HasPageErrors-4d447fdf.js";import{A as v}from"./AppLayout-25ccdbdb.js";import{B}from"./Button-b3acaac2.js";import{B as z}from"./ErrorNotifications-805a6bc2.js";import{B as C}from"./InputColor-cafe90ab.js";import{B as S}from"./InputError-bc1e9f36.js";import{l as a,H as V,f as n,p as l,i as s,w as k,q as x,F as E,j as N,r as m,o as u,k as j,t as q,s as O}from"./vue-loading.min-aa20e13d.js";import{s as P}from"./alert-e0e75cb7.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import"./utils-79a9c8b1.js";import"./Breadcrumbs-0b4348b1.js";import"./Link-2bcf0cab.js";import"./NavbarItem-7e983d41.js";import"./sweetalert2.all-ebd52f41.js";const F={name:"ThemeOptionColorEdit",components:{BizButton:B,BizErrorNotifications:z,BizInputColor:C,BizInputError:S},mixins:[g],layout:v,props:{baseRouteName:{type:String,required:!0},can:{type:Object,default:()=>{}},colors:{type:Object,required:!0},defaultColors:{type:Object,default:()=>{}},errors:{type:Object,default:()=>{}},title:{type:String,required:!0}},setup(e){a.mapValues(e.colors,d=>d.value);const t=a.mapValues(e.colors,(d,o)=>{let i=e.colors[o].value;return a.isEmpty(i)&&a.has(e.defaultColors,o)&&(i=e.defaultColors[o]),i});return{form:V(t)}},data(){return{isProcessing:!1,loader:null}},computed:{sortedColors(){return a.sortBy(this.colors,["order"])}},methods:{onSubmit(){const e=this;this.form.post(route(this.baseRouteName+".update"),{preserveScroll:!1,onStart:()=>{e.loader=e.$loading.show(),e.isProcessing=!0},onSuccess:t=>{P(t.props.flash.message),e.form.isDirty=!1},onFinish:()=>{e.loader.hide(),e.isProcessing=!1}})}}},M={class:"box mb-6"},T={class:"field is-grouped is-grouped-right"},A={class:"control"},D=["disabled"],H={class:"column is-three-quarters"},I={class:"column"},L={key:0};function R(e,t,d,o,i,c){const f=m("biz-error-notifications"),_=m("biz-button"),h=m("biz-input-color"),b=m("biz-input-error");return u(),n("div",null,[l(f,{errors:e.$page.props.errors},null,8,["errors"]),s("div",M,[s("form",{method:"post",onSubmit:t[0]||(t[0]=k((...r)=>c.onSubmit&&c.onSubmit(...r),["prevent"]))},[s("div",T,[s("div",A,[l(_,{class:"is-link"},{default:x(()=>[j(" Save ")]),_:1})])]),s("fieldset",{disabled:i.isProcessing},[(u(!0),n(E,null,N(c.sortedColors,r=>{var p;return u(),n("div",{key:r.key,class:"columns"},[s("div",H,[s("h3",null,q(r.display_name),1)]),s("div",I,[l(h,{modelValue:o.form[r.key],"onUpdate:modelValue":y=>o.form[r.key]=y},null,8,["modelValue","onUpdate:modelValue"]),(p=o.form.errors)!=null&&p.default&&o.form.errors.default[r.key]?(u(),n("p",L,[l(b,{message:e.error(r.key)},null,8,["message"])])):O("",!0)])])}),128))],8,D)],32)])])}const te=w(F,[["render",R]]);export{te as default};
