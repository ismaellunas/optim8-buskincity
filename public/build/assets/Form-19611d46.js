import{M as z}from"./HasPageErrors-da5616c1.js";import{B as S}from"./Input-137492c5.js";import{B as N}from"./InputAddons-7c9a4924.js";import{B as y}from"./Select-a178b677.js";import{B as E}from"./TextEditor-2a6691fa.js";import{B as k}from"./Button-03e0d3fd.js";import{B as F}from"./ButtonLink-abb08373.js";import U from"./TagOption-7699ce67.js";import{i as j}from"./icon-class-4ab3933f.js";import{u as C}from"./utils-caa7a80b.js";import{e as I}from"./EditorTinymce-3bb5766f.js";import{l as M,f as c,i as s,p as l,q as m,w as T,r as d,o as _,t as a,F as x,j as q,k as g}from"./vue-loading.min-a6a947f0.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";import"./Field-a8082082.js";import"./Field-e1691255.js";import"./Input-4c73d710.js";import"./InputError-9b7084c8.js";import"./Select-19a91b6e.js";import"./Link-359d994c.js";import"./Dropdown-034da47d.js";import"./DropdownSearch-d54bf8fb.js";import"./Icon-6def3c13.js";const w={name:"Form",components:{BizFormInput:S,BizFormInputAddons:N,BizFormSelect:y,BizFormTextEditor:E,BizButton:k,BizButtonLink:F,NotificationTagOption:U},mixins:[z],inject:{formBuilderId:{},fieldNotes:{default:()=>{}},isEditMode:{default:!1}},props:{activeOptions:{type:Array,default:()=>[]},fieldNameOptions:{type:Array,default:()=>[]},modelValue:{type:Object,required:!0}},emits:["on-submit"],setup(n,{emit:e}){const r={inline:!1,height:480,plugins:["table"],toolbar:"formatselect | bold italic forecolor backcolor link table| align bullist numlist | removeformat | listTag",setup:o=>{o.ui.registry.addMenuButton("listTag",{text:"{&#183;&#183;&#183;}",fetch:b=>{var i=[];n.fieldNameOptions.forEach(function(f){i.push({type:"menuitem",text:f.value,onAction:()=>o.insertContent("{"+f.id+"}")})}),b(i)}})}};return{baseRouteName:"admin.form-builder",form:C(n,e),messageConfig:Object.assign(I,r)}},data(){return{icon:j}},computed:{fieldNameEmailOptions(){return M.filter(this.fieldNameOptions,{type:"Email"})}},methods:{onSelectOption(n,e){let r="{"+n+"}";if(!this.form[e]){this.form[e]=r;return}this.form[e]=this.form[e]+r}}},D={class:"column is-two-thirds"},L={class:"box"},R=s("h4",{class:"title is-size-4"}," Details ",-1),H={class:"help is-info"},P={class:"help is-info"},W={class:"help is-info"},G={class:"help is-info"},J={class:"help is-info"},K={class:"column"},Q={class:"box"},X=s("h4",{class:"title is-size-4"}," Options ",-1),Y=["value"],Z={class:"field is-grouped is-grouped-right"},$={class:"control"},ee={class:"control"};function oe(n,e,r,o,b,i){const f=d("biz-form-input"),u=d("notification-tag-option"),p=d("biz-form-input-addons"),O=d("biz-form-text-editor"),V=d("biz-form-select"),h=d("biz-button-link"),B=d("biz-button");return _(),c("form",{class:"columns",onSubmit:e[9]||(e[9]=T(t=>n.$emit("on-submit"),["prevent"]))},[s("div",D,[s("div",L,[R,l(f,{modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.name=t),label:"Name",required:!0,message:n.error("name")},null,8,["modelValue","message"]),l(f,{modelValue:o.form.send_to,"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.send_to=t),label:"Send To Email",placeholder:"Separate by comma",required:!0,message:n.error("send_to")},{note:m(()=>[s("p",H,a(i.fieldNotes.send_to),1)]),_:1},8,["modelValue","message"]),l(p,{modelValue:o.form.from_name,"onUpdate:modelValue":e[2]||(e[2]=t=>o.form.from_name=t),label:"From Name",message:n.error("from_name")},{afterInput:m(()=>[l(u,{options:r.fieldNameOptions,"input-name":"from_name",onOnSelectOption:i.onSelectOption},null,8,["options","onOnSelectOption"])]),note:m(()=>[s("p",P,a(i.fieldNotes.from_name),1)]),_:1},8,["modelValue","message"]),l(p,{modelValue:o.form.from_email,"onUpdate:modelValue":e[3]||(e[3]=t=>o.form.from_email=t),label:"From Email",message:n.error("from_email")},{afterInput:m(()=>[l(u,{options:i.fieldNameEmailOptions,"input-name":"from_email",onOnSelectOption:i.onSelectOption},null,8,["options","onOnSelectOption"])]),note:m(()=>[s("p",W,a(i.fieldNotes.from_email),1)]),_:1},8,["modelValue","message"]),l(p,{modelValue:o.form.reply_to,"onUpdate:modelValue":e[4]||(e[4]=t=>o.form.reply_to=t),label:"Reply To",message:n.error("reply_to")},{afterInput:m(()=>[l(u,{options:i.fieldNameEmailOptions,"input-name":"reply_to",onOnSelectOption:i.onSelectOption},null,8,["options","onOnSelectOption"])]),note:m(()=>[s("p",G,a(i.fieldNotes.reply_to),1)]),_:1},8,["modelValue","message"]),l(f,{modelValue:o.form.bcc,"onUpdate:modelValue":e[5]||(e[5]=t=>o.form.bcc=t),label:"Bcc",placeholder:"Separate by comma",message:n.error("bcc")},{note:m(()=>[s("p",J,a(i.fieldNotes.bcc),1)]),_:1},8,["modelValue","message"]),l(p,{modelValue:o.form.subject,"onUpdate:modelValue":e[6]||(e[6]=t=>o.form.subject=t),label:"Subject",required:!0,message:n.error("subject")},{afterInput:m(()=>[l(u,{options:r.fieldNameOptions,"input-name":"subject",onOnSelectOption:i.onSelectOption},null,8,["options","onOnSelectOption"])]),_:1},8,["modelValue","message"]),l(O,{modelValue:o.form.message,"onUpdate:modelValue":e[7]||(e[7]=t=>o.form.message=t),label:"Message",config:o.messageConfig},null,8,["modelValue","config"])])]),s("div",K,[s("div",Q,[X,l(V,{modelValue:o.form.is_active,"onUpdate:modelValue":e[8]||(e[8]=t=>o.form.is_active=t),label:"Is Activated?"},{default:m(()=>[(_(!0),c(x,null,q(r.activeOptions,(t,v)=>(_(),c("option",{key:v,value:t.id},a(t.value),9,Y))),128))]),_:1},8,["modelValue"])]),s("div",Z,[s("div",$,[l(h,{class:"is-link is-light",href:n.route("admin.form-builders.edit",i.formBuilderId)},{default:m(()=>[g(a(i.isEditMode?"Back":"Cancel"),1)]),_:1},8,["href"])]),s("div",ee,[l(B,{class:"is-link"},{default:m(()=>[g(a(i.isEditMode?"Update":"Create"),1)]),_:1})])])])],32)}const Se=A(w,[["render",oe]]);export{Se as default};
