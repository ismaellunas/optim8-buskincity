import{M as g}from"./HasLoader-a564cfe6.js";import{o as c,f as p,p as i,q as o,x as a,s as b,T as S,r as m,i as r,w as y,n as h,u as $,k as l}from"./vue-loading.min-aa20e13d.js";import{_}from"./_plugin-vue_export-helper-c27b6911.js";import{B as V}from"./Button-b3acaac2.js";import{B as x}from"./Password-7112046e.js";import{B as P}from"./SectionTitle-f80b12f2.js";import{s as A,o as k}from"./alert-e0e75cb7.js";import"./Field-fbae01a6.js";import"./Field-c2e062a9.js";import"./ButtonIcon-05c24ca4.js";import"./Icon-150b61ef.js";import"./icon-class-4ab3933f.js";import"./InputError-bc1e9f36.js";import"./utils-79a9c8b1.js";import"./sweetalert2.all-ebd52f41.js";const C={name:"BizActionMessage",props:{isActive:{type:Boolean,default:!1}}},F={key:0,class:"text-sm text-gray-600"};function M(e,t,u,w,s,n){return c(),p("div",null,[i(S,{"leave-active-class":"transition ease-in duration-1000","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:o(()=>[u.isActive?(c(),p("div",F,[a(e.$slots,"default")])):b("",!0)]),_:3})])}const N=_(C,[["render",M]]),E={name:"BizFormSection",components:{BizSectionTitle:P},emits:["submitted"],computed:{hasActions(){return!!this.$slots.actions}}},T={class:"box"},q={class:"columns"},L={class:"column is-one-third"},O={class:"column is-two-thirds"},U={class:""},H={key:0,class:"px-4 py-3"};function j(e,t,u,w,s,n){const d=m("biz-section-title");return c(),p("div",T,[r("div",q,[r("div",L,[i(d,null,{title:o(()=>[a(e.$slots,"title")]),description:o(()=>[a(e.$slots,"description")]),_:3})]),r("div",O,[r("form",{onSubmit:t[0]||(t[0]=y(v=>e.$emit("submitted"),["prevent"]))},[r("div",{class:h(["px-4 py-4",(n.hasActions,"")])},[r("div",U,[a(e.$slots,"form")])],2),n.hasActions?(c(),p("div",H,[a(e.$slots,"actions")])):b("",!0)],32)])])])}const D=_(E,[["render",j]]),G={components:{BizActionMessage:N,BizButton:V,BizFormPassword:x,BizFormSection:D},mixins:[g],data(){return{form:this.$inertia.form({password:"",password_confirmation:""})}},methods:{setPassword(){this.onStartLoadingOverlay(),this.form.put(route("user-password.set"),{errorBag:"setPassword",preserveScroll:!0,onSuccess:()=>{this.form.reset(),A("Saved")},onError:()=>{this.form.errors.password&&(this.form.reset("password","password_confirmation"),this.$refs.password.$refs.input.focus()),k()},onFinish:()=>{this.onEndLoadingOverlay()}})}}};function I(e,t,u,w,s,n){const d=m("biz-form-password"),v=m("biz-action-message"),z=m("biz-button"),B=m("biz-form-section");return c(),$(B,{onSubmitted:n.setPassword},{title:o(()=>[l(" Set Password ")]),description:o(()=>[l(" Ensure your account is using a long, random password to stay secure. ")]),form:o(()=>[i(d,{ref:"password",modelValue:s.form.password,"onUpdate:modelValue":t[0]||(t[0]=f=>s.form.password=f),autocomplete:"new-password",label:"New Password",message:s.form.errors.password,required:!0},null,8,["modelValue","message"]),i(d,{ref:"password",modelValue:s.form.password_confirmation,"onUpdate:modelValue":t[1]||(t[1]=f=>s.form.password_confirmation=f),autocomplete:"new-password",label:"Confirm Password",message:s.form.errors.password_confirmation,required:!0},null,8,["modelValue","message"])]),actions:o(()=>[i(v,{"is-active":s.form.recentlySuccessful,class:"mr-3"},{default:o(()=>[l(" Saved. ")]),_:1},8,["is-active"]),i(z,{class:h([{"opacity-25":s.form.processing},"is-primary"]),disabled:s.form.processing},{default:o(()=>[l(" Save ")]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])}const as=_(G,[["render",I]]);export{as as default};
