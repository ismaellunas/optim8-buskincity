import{M as x}from"./FilterDataHandle-94157290.js";import{A as N}from"./AppLayout-25ccdbdb.js";import{B as L}from"./Button-b3acaac2.js";import{B as C}from"./ButtonLink-71ebb617.js";import{B as F}from"./Search-cafe34ab.js";import{B as R}from"./FlashNotifications-153d09b4.js";import{B as q}from"./Link-2bcf0cab.js";import{B as w}from"./TableIndex-6b2a4ef8.js";import{i as E}from"./icon-class-4ab3933f.js";import{c as S}from"./alert-e0e75cb7.js";import{B as b,l as V,f,p as c,i as e,u as d,q as o,s as m,r,o as n,n as u,F as O,j as P,t as p,k as j,w as D}from"./vue-loading.min-aa20e13d.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import"./HasLoader-a564cfe6.js";import"./Breadcrumbs-0b4348b1.js";import"./utils-79a9c8b1.js";import"./NavbarItem-7e983d41.js";import"./ButtonIcon-05c24ca4.js";import"./Icon-150b61ef.js";import"./Field-c2e062a9.js";import"./Input-2fb71e37.js";import"./Pagination-8d9b0028.js";import"./Table-2efbef14.js";import"./TableInfo-c372d0e5.js";import"./sweetalert2.all-ebd52f41.js";const A={name:"FormBuilderIndex",components:{BizButton:L,BizButtonLink:C,BizFilterSearch:F,BizFlashNotifications:R,BizLink:q,BizTableIndex:w},mixins:[x],layout:N,props:{baseRouteName:{type:String,required:!0},can:{type:Object,required:!0},pageQueryParams:{type:Object,default:()=>{}},records:{type:Object,default:()=>{}}},setup(s){var i;return{queryParams:b(V.merge({},s.pageQueryParams)),term:b(((i=s.pageQueryParams)==null?void 0:i.term)??null)}},data(){return{icon:E}},methods:{deleteRow(s){const i=this;S().then(t=>{t.isConfirmed&&i.$inertia.delete(route(i.baseRouteName+".destroy",s),{onStart:()=>i.onStartLoadingOverlay(),onFinish:()=>i.onEndLoadingOverlay()})})}}},M={class:"box"},Q={class:"columns"},T={class:"column is-4"},H={class:"column has-text-right"},U={class:"icon is-small"},G=e("span",null,"Create New",-1),J=e("tr",null,[e("th",null,"Name"),e("th",null,"Form ID"),e("th",null,"Entries"),e("th",null,[e("div",{class:"level-right"}," Actions ")])],-1),K={class:"level-right"},W={class:"icon is-small"},X={class:"icon is-small"},Y={class:"icon is-small"};function Z(s,i,t,_,l,y){const k=r("biz-flash-notifications"),B=r("biz-filter-search"),h=r("biz-button-link"),z=r("biz-link"),g=r("biz-button"),v=r("biz-table-index");return n(),f("div",null,[c(k,{flash:s.$page.props.flash},null,8,["flash"]),e("div",M,[e("div",Q,[e("div",T,[c(B,{modelValue:_.term,"onUpdate:modelValue":i[0]||(i[0]=a=>_.term=a),onSearch:s.search},null,8,["modelValue","onSearch"])]),e("div",H,[t.can.add?(n(),d(h,{key:0,href:s.route(t.baseRouteName+".create"),class:"is-primary"},{default:o(()=>[e("span",U,[e("i",{class:u(l.icon.add)},null,2)]),G]),_:1},8,["href"])):m("",!0)])]),c(v,{records:t.records,"query-params":_.queryParams},{thead:o(()=>[J]),default:o(()=>[(n(!0),f(O,null,P(t.records.data,a=>(n(),f("tr",{key:a.id},[e("td",null,p(a.name),1),e("td",null,p(a.key),1),e("td",null,[c(z,{href:s.route(t.baseRouteName+".entries.index",{form_builder:a.id}),title:"List Entries"},{default:o(()=>[j(p(a.totalEntries),1)]),_:2},1032,["href"])]),e("td",null,[e("div",K,[t.can.browse?(n(),d(h,{key:0,class:"is-ghost has-text-black",title:"List Entries",href:s.route(t.baseRouteName+".entries.index",{form_builder:a.id})},{default:o(()=>[e("span",W,[e("i",{class:u(l.icon.rectangleList)},null,2)])]),_:2},1032,["href"])):m("",!0),t.can.edit?(n(),d(h,{key:1,class:"is-ghost has-text-black",href:s.route(t.baseRouteName+".edit",{id:a.id})},{default:o(()=>[e("span",X,[e("i",{class:u(l.icon.edit)},null,2)])]),_:2},1032,["href"])):m("",!0),t.can.delete?(n(),d(g,{key:2,class:"is-ghost has-text-black ml-1",onClick:D($=>y.deleteRow(a.id),["prevent"])},{default:o(()=>[e("span",Y,[e("i",{class:u(l.icon.remove)},null,2)])]),_:2},1032,["onClick"])):m("",!0)])])]))),128))]),_:1},8,["records","query-params"])])])}const xe=I(A,[["render",Z]]);export{xe as default};
