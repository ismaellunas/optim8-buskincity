import{M as U}from"./HasPageErrors-4d447fdf.js";import{B as S}from"./Button-b3acaac2.js";import{B as I}from"./Checkbox-8d9a17c8.js";import{B as M}from"./Input-50a73630.js";import{B as F}from"./Select-c82d82bb.js";import{B as T}from"./ModalCard-42b1747b.js";import{A as C,l as B,I as b,u as c,q as n,r as s,o,i as a,t as u,p as d,k as p,f as m,j as _,F as y,w as q}from"./vue-loading.min-aa20e13d.js";import{i as g}from"./utils-79a9c8b1.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import"./Field-fbae01a6.js";import"./Field-c2e062a9.js";import"./Input-2fb71e37.js";import"./InputError-bc1e9f36.js";import"./Select-9fda6861.js";const N={name:"NavigationFormMenu",components:{BizButton:S,BizCheckbox:I,BizFormInput:M,BizFormSelect:F,BizModalCard:T},mixins:[U],props:{baseRouteName:{type:String,required:!0},errors:{type:Object,default:()=>{}},menu:{type:Object,required:!0},menuItem:{type:Object,default:()=>{}},selectedLocale:{type:String,default:"en"}},emits:["add-menu-item","close","update-menu-item"],setup(l){let e={};return g(l.menuItem)?e=C({id:null,title:null,type:"url",url:null,order:null,is_blank:!1,parent_id:null,menu_id:l.menu.id,menu_itemable_id:null,children:[]}):e=C(B.cloneDeep(l.menuItem)),{defaultLocale:b().props.value.defaultLanguage,firstFields:B.cloneDeep(e),form:e,menuOptions:b().props.value.menuOptions,typeOptions:b().props.value.typeOptions}},data(){return{loader:null}},computed:{isCreate(){return g(this.menuItem)},isTypeUrl(){return this.form.type=="url"}},methods:{onSubmit(){const l=this.form;g(this.menuItem)?this.$emit("add-menu-item",l):this.$emit("update-menu-item",l)},onChangedType(){this.form.url=null,this.form.menu_itemable_id=null}}},j={class:"modal-card-title has-text-weight-bold"},E=["value"],L=["value"],D={class:"columns",style:{width:"100%"}},A={class:"column"},P={class:"is-pulled-right"};function H(l,e,f,r,R,i){const k=s("biz-form-input"),v=s("biz-form-select"),z=s("biz-checkbox"),h=s("biz-button"),V=s("biz-modal-card");return o(),c(V,{onClose:e[9]||(e[9]=t=>l.$emit("close"))},{header:n(()=>[a("p",j,u(i.isCreate?"Add":"Edit")+" Menu Item ",1),a("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=t=>l.$emit("close"))})]),footer:n(()=>[a("div",D,[a("div",A,[a("div",P,[d(h,{onClick:e[7]||(e[7]=t=>l.$emit("close"))},{default:n(()=>[p(" Cancel ")]),_:1}),d(h,{class:"is-primary ml-1",type:"button",onClick:e[8]||(e[8]=t=>i.onSubmit())},{default:n(()=>[p(u(i.isCreate?"Create":"Update"),1)]),_:1})])])])]),default:n(()=>[a("form",{onSubmit:e[6]||(e[6]=q((...t)=>i.onSubmit&&i.onSubmit(...t),["prevent"]))},[a("fieldset",null,[d(k,{modelValue:r.form.title,"onUpdate:modelValue":e[1]||(e[1]=t=>r.form.title=t),label:"Title",required:"",message:l.error("title",null,f.errors)},null,8,["modelValue","message"]),d(v,{modelValue:r.form.type,"onUpdate:modelValue":e[2]||(e[2]=t=>r.form.type=t),class:"is-fullwidth",label:"Type",required:"",message:l.error("type",null,f.errors),onChange:i.onChangedType},{default:n(()=>[(o(!0),m(y,null,_(r.typeOptions,t=>(o(),m("option",{key:t.id,value:t.id},u(t.value),9,E))),128))]),_:1},8,["modelValue","message","onChange"]),i.isTypeUrl?(o(),c(k,{key:0,modelValue:r.form.url,"onUpdate:modelValue":e[3]||(e[3]=t=>r.form.url=t),label:"Url",placeholder:"e.g https://www.example.com/",message:l.error("url",null,f.errors)},null,8,["modelValue","message"])):(o(),c(v,{key:1,modelValue:r.form.menu_itemable_id,"onUpdate:modelValue":e[4]||(e[4]=t=>r.form.menu_itemable_id=t),label:"Menu",class:"is-fullwidth",message:l.error("menu_itemable_id",null,f.errors),required:!0},{default:n(()=>[(o(!0),m(y,null,_(r.menuOptions[r.form.type],t=>(o(),m("option",{key:t.id,value:t.id},[p(u(t.value)+" ",1),(o(!0),m(y,null,_(t.locales,(w,O)=>(o(),m("span",{key:O}," ["+u(w.toUpperCase())+"] ",1))),128))],8,L))),128))]),_:1},8,["modelValue","message"])),d(z,{checked:r.form.is_blank,"onUpdate:checked":e[5]||(e[5]=t=>r.form.is_blank=t),value:!0},{default:n(()=>[p(" Open link in a new tab ")]),_:1},8,["checked"])])],32)]),_:1})}const ne=x(N,[["render",H]]);export{ne as default};
