import{l as u,o as n,f as d,i as s,t as f,s as o,n as p}from"./vue-loading.min-a6a947f0.js";import{u as m,i as h}from"./utils-caa7a80b.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";const F={name:"BizInputFile",props:{accept:{type:Array,default:()=>[]},isNameDisplayed:{type:Boolean,default:!0},modelValue:{type:[File,Blob,null],required:!0},disabled:{type:Boolean,default:!1},fileLabel:{type:String,default:"Choose a file"},displayedFileName:{type:String,default:null}},emits:["on-file-picked","update:modelValue"],setup(a,{emit:e}){return{file:m(a,e)}},data(){return{isDelayed:!1}},computed:{hasFile(){return!h(this.file)},fileName(){return this.displayedFileName?this.displayedFileName:this.hasFile?this.file.name:"..."},wrapperClass(){return u.concat(this.isNameDisplayed?"has-name":null).filter(Boolean)}},methods:{resetFile(){this.$refs.fileInput.value=null},disabledFewSeconds(){setTimeout(()=>{this.isDelayed=!0},1),setTimeout(()=>{this.isDelayed=!1},2e3)},clickDelay(){this.resetFile(),this.disabledFewSeconds()},pickFile(){let e=this.$refs.fileInput.files;if(e&&e[0]){let l=new FileReader;l.onload=r=>{this.$emit("on-file-picked",r)},l.readAsDataURL(e[0]),this.file=e[0]}}}},_={class:"file-label"},k=["accept","disabled"],b={class:"file-cta"},D=s("span",{class:"file-icon"},[s("i",{class:"fas fa-upload"})],-1),B={key:0,class:"file-label"},N={key:0,class:"file-name"};function C(a,e,l,r,c,i){return n(),d("div",{class:p(["file",i.wrapperClass])},[s("label",_,[s("input",{ref:"fileInput",class:"file-input",type:"file",accept:l.accept.join(", "),disabled:l.disabled||c.isDelayed,onClick:e[0]||(e[0]=(...t)=>i.clickDelay&&i.clickDelay(...t)),onInput:e[1]||(e[1]=(...t)=>i.pickFile&&i.pickFile(...t))},null,40,k),s("span",b,[D,i.hasFile?o("",!0):(n(),d("span",B,f(l.fileLabel),1))]),l.isNameDisplayed?(n(),d("span",N,f(i.fileName),1)):o("",!0)])],2)}const x=y(F,[["render",C]]);export{x as B};
