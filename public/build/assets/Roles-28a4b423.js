import{A as g}from"./AppLayout-25ccdbdb.js";import{B as C}from"./Button-b3acaac2.js";import{B as w}from"./ButtonLink-71ebb617.js";import{B}from"./Modal-247c5739.js";import{u as z,q as l,r as p,o as r,i as e,f as d,t as h,s as N,p as a,k as u,j as v,F as k,m as c,y as f,v as E,a7 as V}from"./vue-loading.min-aa20e13d.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./Breadcrumbs-0b4348b1.js";import"./Link-2bcf0cab.js";import"./utils-79a9c8b1.js";import"./NavbarItem-7e983d41.js";const R={components:{AppLayout:g,BizButton:C,BizButtonLink:w,BizModal:B},props:["roles","permissions","errors"],data(){return{editMode:!1,isOpen:!1,form:{name:null,permissions:[]}}},methods:{openModal:function(){this.isOpen=!0},closeModal:function(){this.isOpen=!1,this.reset(),this.editMode=!1},reset:function(){this.form={name:null}},save:function(s){this.$inertia.post("/roles",s),this.reset(),this.closeModal(),this.editMode=!1},edit:function(s){this.form=Object.assign({},s),this.form.permissions=s.permissions.map(t=>t.id),this.editMode=!0,this.openModal()},update:function(s){s._method="PUT",this.$inertia.post("/roles/"+s.id,s),this.reset(),this.closeModal()},deleteRow:function(s){confirm("Are you sure want to remove?")&&(s._method="DELETE",this.$inertia.post("/roles/"+s.id,s),this.reset(),this.closeModal())}}},T=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Roles ",-1),A={class:"py-12"},D={class:""},L={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg px-4 py-4"},U={key:0,class:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md my-3",role:"alert"},S={class:"flex"},j={class:"text-sm"},F={class:"table is-fullwidth is-striped"},q=e("thead",null,[e("tr",{class:""},[e("th",{class:"px-4 py-2 w-20"},"Name"),e("th",{class:"px-4 py-2 w-20"},"Actions")])],-1),P={class:"border px-4 py-2"},G={class:"border px-4 py-2"},H={class:"box"},I={action:""},J={class:"field"},K=e("label",{class:"label"},"Name",-1),Q={class:"control"},W={class:"columns my-3"},X={class:"column"},Y={class:"checkbox"},Z=["value"],$={class:"ml-2"},ee={class:"field is-grouped"},te={class:"control"},se={class:"control"},oe={class:"control"};function ie(s,t,b,ne,i,n){const m=p("biz-button"),y=p("biz-button-link"),x=p("biz-modal"),M=p("app-layout");return r(),z(M,null,{header:l(()=>[T]),default:l(()=>[e("div",A,[e("div",D,[e("div",L,[s.$page.props.flash.message?(r(),d("div",U,[e("div",S,[e("div",null,[e("p",j,h(s.$page.props.flash.message),1)])])])):N("",!0),a(m,{onClick:t[0]||(t[0]=o=>n.openModal()),type:"button"},{default:l(()=>[u("Create New Role")]),_:1}),e("table",F,[q,e("tbody",null,[(r(!0),d(k,null,v(b.roles,o=>(r(),d("tr",null,[e("td",P,h(o.name),1),e("td",G,[a(m,{onClick:_=>n.edit(o)},{default:l(()=>[u("Edit")]),_:2},1032,["onClick"]),a(y,{href:`/roles/${o.id}/edit`},{default:l(()=>[u(" Edit")]),_:2},1032,["href"]),a(m,{onClick:_=>n.deleteRow(o),class:"is-danger"},{default:l(()=>[u("Delete")]),_:2},1032,["onClick"])])]))),256))])]),c(a(x,{onClose:t[6]||(t[6]=o=>n.closeModal())},{default:l(()=>[e("div",H,[e("form",I,[e("div",J,[K,e("div",Q,[c(e("input",{class:"input",type:"text",placeholder:"Text input","onUpdate:modelValue":t[1]||(t[1]=o=>i.form.name=o)},null,512),[[E,i.form.name]])]),e("div",W,[(r(!0),d(k,null,v(b.permissions,o=>(r(),d("div",X,[e("label",Y,[c(e("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":t[2]||(t[2]=_=>i.form.permissions=_)},null,8,Z),[[V,i.form.permissions]]),e("span",$,h(o.name),1)])]))),256))])]),e("div",ee,[e("div",te,[c(e("button",{"wire:click.prevent":"store()",onClick:t[3]||(t[3]=o=>n.save(i.form)),type:"button",class:"button is-link"},"Save",512),[[f,!i.editMode]])]),e("div",se,[c(e("button",{"wire:click.prevent":"store()",onClick:t[4]||(t[4]=o=>n.update(i.form)),type:"button",class:"button is-link"},"Update",512),[[f,i.editMode]])]),e("div",oe,[e("button",{onClick:t[5]||(t[5]=o=>n.closeModal()),type:"button",class:"button is-link is-light"},"Cancel")])])])])]),_:1},512),[[f,i.isOpen]])])])])]),_:1})}const fe=O(R,[["render",ie]]);export{fe as default};
