import{M as u}from"./HasLoader-a564cfe6.js";import{A as d}from"./AppLayout-25ccdbdb.js";import{B as f}from"./ErrorNotifications-805a6bc2.js";import g from"./Form-e4f2a9e9.js";import{s as L,o as _}from"./alert-e0e75cb7.js";import{I as i,H as b,f as h,p as l,i as y,r as n,o as C}from"./vue-loading.min-aa20e13d.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./Breadcrumbs-0b4348b1.js";import"./Link-2bcf0cab.js";import"./utils-79a9c8b1.js";import"./NavbarItem-7e983d41.js";import"./HasPageErrors-4d447fdf.js";import"./Button-b3acaac2.js";import"./ButtonLink-71ebb617.js";import"./Input-50a73630.js";import"./Field-fbae01a6.js";import"./Field-c2e062a9.js";import"./Input-2fb71e37.js";import"./InputError-bc1e9f36.js";import"./Slug-b92c239f.js";import"./InputAddons-48095339.js";import"./ButtonIcon-05c24ca4.js";import"./Icon-150b61ef.js";import"./icon-class-4ab3933f.js";import"./Textarea-18e9b25c.js";import"./Textarea-3c29db5c.js";import"./LanguageTab-090d99fd.js";import"./sweetalert2.all-ebd52f41.js";const v={name:"CategoryCreate",components:{BizErrorNotifications:f,CategoryForm:g},mixins:[u],layout:d,props:{baseRouteName:{type:String,required:!0},errors:{type:Object,default:()=>{}},title:{type:String,required:!0}},setup(){const e=i().props.value.defaultLanguage,o={[e]:{name:null,slug:null,meta_title:null,meta_description:null}};return{defaultLocale:e,form:b(o),localeOptions:i().props.value.languageOptions}},data(){return{isNew:!0,isProcessing:!1,selectedLocale:this.defaultLocale}},methods:{submit(){const e=this;e.form.post(route(e.baseRouteName+".store"),{onStart:()=>{e.onStartLoadingOverlay(),e.isProcessing=!0},onSuccess:o=>{L(o.props.flash.message)},onFinish:()=>{e.onEndLoadingOverlay(),e.isProcessing=!1}})},onChangeLocale(){let e={};this.localeOptions.map(o=>{o.id==this.defaultLocale&&(e=o)}),_({text:"Please provide "+e.name+" ("+e.id.toUpperCase()+") translation first!"})}}},N={class:"box mb-6"};function S(e,o,s,t,r,a){const m=n("biz-error-notifications"),c=n("category-form");return C(),h("div",null,[l(m,{errors:e.$page.props.errors},null,8,["errors"]),y("div",N,[l(c,{modelValue:t.form[r.selectedLocale],"onUpdate:modelValue":o[0]||(o[0]=p=>t.form[r.selectedLocale]=p),"base-route":s.baseRouteName,"default-locale":t.defaultLocale,errors:s.errors,"is-input-disabled":r.isProcessing,"is-new":r.isNew,"locale-options":t.localeOptions,"selected-locale":r.selectedLocale,onOnChangeLocale:a.onChangeLocale,onOnSubmit:a.submit},null,8,["modelValue","base-route","default-locale","errors","is-input-disabled","is-new","locale-options","selected-locale","onOnChangeLocale","onOnSubmit"])])])}const ee=O(v,[["render",S]]);export{ee as default};
