import{A as j}from"./AppLayout-25ccdbdb.js";import{_ as y}from"./app-e2e2f86f.js";import{_ as x}from"./dynamic-import-helper-be004503.js";import{B as S}from"./ButtonLink-71ebb617.js";import{B as O}from"./Checkbox-8d9a17c8.js";import{B as F,a as P}from"./Dropdown-5425ae3a.js";import{B as T}from"./Image-52e0dacd.js";import{B as U}from"./Input-2fb71e37.js";import{B as q}from"./Loader-5695d04b.js";import{B as K,a as H}from"./PanelBlock-876eebcb.js";import{i as M}from"./icon-class-4ab3933f.js";import{C as G,l as C,z as J,r as d,o as a,f as _,p as m,q as r,i as e,t as p,u,n as R,s as w,w as Q,F as b,j as z,k as g,ap as A,K as N}from"./vue-loading.min-aa20e13d.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import"./Breadcrumbs-0b4348b1.js";import"./Link-2bcf0cab.js";import"./utils-79a9c8b1.js";import"./NavbarItem-7e983d41.js";import"./Button-b3acaac2.js";const X={name:"LatestRegistration",components:{BizLoader:q,BizButtonLink:S,BizImage:T,BizPanel:K,BizPanelBlock:H,BizInput:U,BizCheckbox:O,BizDropdown:F,BizDropdownItem:P},props:{data:{type:Object,required:!0},title:{type:String,default:""}},data(){return{isLoading:!1,icon:M,userImage:G,records:[],search:{term:null,roles:[]}}},computed:{totalRoleSelected(){return this.search.roles.length}},mounted(){this.getRecords()},methods:{getRecords(){const s=this;s.isLoading=!0,axios.get(route("admin.api.widget.latest-registrations"),{params:{term:s.search.term,roles:s.search.roles}}).then(t=>{s.records=t.data.records}).then(()=>{s.isLoading=!1})},onSearch:C.debounce(function(s=""){(s.length>2||s.length==0)&&this.getRecords()},J)}},Y={class:"column is-6"},Z={class:"columns"},$={class:"column"},ee={class:"column"},se={class:"icon is-small"},te=e("span",null,"Add New",-1),oe={class:"field is-grouped is-grouped-multiline"},ne={class:"control"},ie={class:"control"},le={class:"icon is-small"},ae={class:"media",style:{width:"100%"}},re={class:"media-content"},de={class:"content"},me=e("br",null,null,-1),ce=e("br",null,null,-1),ue={class:"is-size-7 has-text-grey"},_e=e("br",null,null,-1),pe={class:"media-right"},he={class:"level",style:{width:"100%"}},fe=e("div",{class:"level-left"},null,-1),ge={class:"level-right"};function be(s,t,o,v,l,c){const n=d("biz-button-link"),h=d("biz-loader"),L=d("biz-input"),V=d("biz-checkbox"),W=d("biz-dropdown-item"),D=d("biz-dropdown"),f=d("biz-panel-block"),E=d("biz-image"),I=d("biz-panel");return a(),_("div",Y,[m(I,{class:"is-white is-relative"},{heading:r(()=>[e("div",Z,[e("div",$,p(o.title),1),e("div",ee,[o.data.permissions.add?(a(),u(n,{key:0,class:"is-primary is-small is-pulled-right",href:s.route(o.data.baseRouteName+".create")},{default:r(()=>[e("span",se,[e("i",{class:R(l.icon.add)},null,2)]),te]),_:1},8,["href"])):w("",!0)])])]),default:r(()=>[m(h,{modelValue:l.isLoading,"onUpdate:modelValue":t[0]||(t[0]=i=>l.isLoading=i),"is-full-page":!1},null,8,["modelValue"]),m(f,null,{default:r(()=>[e("div",oe,[e("div",ne,[m(L,{modelValue:l.search.term,"onUpdate:modelValue":t[1]||(t[1]=i=>l.search.term=i),class:"is-small",placeholder:"Search...",maxlength:"255",onKeyup:t[2]||(t[2]=Q(i=>c.onSearch(l.search.term),["prevent"]))},null,8,["modelValue"])]),e("div",ie,[m(D,{"close-on-click":!1,"class-button":"is-small"},{trigger:r(()=>[e("span",null,"Type ("+p(c.totalRoleSelected)+")",1),e("span",le,[e("i",{class:R(l.icon.angleDown),"aria-hidden":"true"},null,2)])]),default:r(()=>[(a(!0),_(b,null,z(o.data.roleOptions,i=>(a(),u(W,{key:i.id},{default:r(()=>[m(V,{checked:l.search.roles,"onUpdate:checked":t[3]||(t[3]=k=>l.search.roles=k),value:i.id,onChange:t[4]||(t[4]=k=>c.getRecords())},{default:r(()=>[g(" Â  "+p(i.value),1)]),_:2},1032,["checked","value"])]),_:2},1024))),128))]),_:1})])])]),_:1}),l.records.length>0?(a(!0),_(b,{key:0},z(l.records,i=>(a(),u(f,{key:i.id},{default:r(()=>[e("div",ae,[m(E,{class:"media-left",ratio:"is-64x64",rounded:"is-rounded",src:i.profile_photo_url??l.userImage},null,8,["src"]),e("div",re,[e("div",de,[e("p",null,[e("strong",null,p(i.full_name),1),me,e("span",null,p(i.email),1),ce,e("span",ue," Registered, "+p(i.registered_at),1),_e])])]),e("div",pe,[o.data.permissions.edit?(a(),u(n,{key:0,class:"is-primary is-outlined is-small",href:s.route(o.data.baseRouteName+".edit",i.id)},{default:r(()=>[g(" View Detail ")]),_:2},1032,["href"])):w("",!0)])])]),_:2},1024))),128)):(a(),u(f,{key:1},{default:r(()=>[g(" Data empty. ")]),_:1})),m(f,null,{default:r(()=>[e("div",he,[fe,e("div",ge,[m(n,{class:"is-primary is-outlined is-small",href:s.route(o.data.baseRouteName+".index")},{default:r(()=>[g(" View All ")]),_:1},8,["href"])])])]),_:1})]),_:1})])}const ve=B(X,[["render",be]]),ye={name:"BizWidgetColumnsAdmin",components:{LatestRegistration:ve},props:{widgets:{type:Array,default:()=>[]},moduleWidgets:{type:Array,default:()=>[]}},setup(s){const t={};return s.moduleWidgets.forEach(o=>{o.moduleName=="FormBuilder"&&(t[o.componentName]=A(()=>x(Object.assign({"../../../../modules/FormBuilder/Resources/assets/js/Widgets/FormEntry.vue":()=>y(()=>import("./FormEntry-51008865.js"),["assets/FormEntry-51008865.js","assets/ButtonLink-71ebb617.js","assets/Link-2bcf0cab.js","assets/vue-loading.min-aa20e13d.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/Loader-5695d04b.js","assets/utils-79a9c8b1.js","assets/Pagination-8d9b0028.js","assets/Button-b3acaac2.js","assets/PanelBlock-876eebcb.js","assets/Select-9fda6861.js","assets/Table-2efbef14.js","assets/icon-class-4ab3933f.js"])}),`../../../../modules/FormBuilder/Resources/assets/js/Widgets/${o.componentName}.vue`))),o.moduleName=="Booking"&&(t[o.componentName]=A(()=>x(Object.assign({"../../../../modules/Booking/Resources/assets/js/Widgets/EventUpcoming.vue":()=>y(()=>import("./EventUpcoming-b5e80e98.js"),["assets/EventUpcoming-b5e80e98.js","assets/ButtonLink-71ebb617.js","assets/Link-2bcf0cab.js","assets/vue-loading.min-aa20e13d.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/Icon-150b61ef.js","assets/Table-2efbef14.js","assets/icon-class-4ab3933f.js"]),"../../../../modules/Booking/Resources/assets/js/Widgets/LatestBooking.vue":()=>y(()=>import("./LatestBooking-a62b1e1e.js"),["assets/LatestBooking-a62b1e1e.js","assets/ButtonLink-71ebb617.js","assets/Link-2bcf0cab.js","assets/vue-loading.min-aa20e13d.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/Checkbox-8d9a17c8.js","assets/Dropdown-5425ae3a.js","assets/Button-b3acaac2.js","assets/utils-79a9c8b1.js","assets/DropdownSearch-bd4068c6.js","assets/Input-2fb71e37.js","assets/Icon-150b61ef.js","assets/icon-class-4ab3933f.js","assets/DateRange-7ae8c660.js","assets/Datepicker-847140ac.js","assets/Datepicker-436c8958.css","assets/moment-fbc5633a.js","assets/Loader-5695d04b.js","assets/PanelBlock-876eebcb.js","assets/Table-2efbef14.js"])}),`../../../../modules/Booking/Resources/assets/js/Widgets/${o.componentName}.vue`)))}),{asyncComponents:t}},computed:{allWidgets(){return C.sortBy([...this.widgets,...this.moduleWidgets],["order"])}},methods:{isAsyncComponentExists(s){return!!this.asyncComponents[s]}}},ze={class:"columns is-multiline"};function Be(s,t,o,v,l,c){return a(),_("div",null,[e("div",ze,[(a(!0),_(b,null,z(c.allWidgets,(n,h)=>(a(),_(b,{key:h},[c.isAsyncComponentExists(n.componentName)?(a(),u(N(v.asyncComponents[n.componentName]),{key:0,columns:n.columns,data:n.data,order:h,title:n.title},null,8,["columns","data","order","title"])):(a(),u(N(n.componentName),{key:1,columns:n.columns,data:n.data,order:h,title:n.title},null,8,["columns","data","order","title"]))],64))),128))])])}const ke=B(ye,[["render",Be]]),xe={name:"DashboardAdmin",components:{BizWidgetColumnsAdmin:ke},layout:j,props:{moduleWidgets:{type:Array,default:()=>[]},title:{type:String,required:!0},widgets:{type:Array,default:()=>[]}}},Re={class:"py-12"},we={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ae={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"};function Ne(s,t,o,v,l,c){const n=d("biz-widget-columns-admin");return a(),_("div",Re,[e("div",we,[e("div",Ae,[m(n,{widgets:o.widgets,"module-widgets":o.moduleWidgets},null,8,["widgets","module-widgets"])])])])}const Ge=B(xe,[["render",Ne]]);export{Ge as default};
