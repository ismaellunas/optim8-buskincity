import{B as A}from"./Breadcrumbs-0b4348b1.js";import{i as D}from"./utils-79a9c8b1.js";import{o as i,f as o,i as s,w as C,t as u,s as v,R as y,I as f,L as T,M as V,B as N,r as _,p as h,q as p,n as B,F as g,j as z,u as w,k,a9 as S,l as E,x as $}from"./vue-loading.min-aa20e13d.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import{B as P}from"./Link-2bcf0cab.js";import{B as I}from"./NavbarItem-7e983d41.js";const F={props:{flash:{type:Object,required:!0}},data(){return{isVisible:!1}},computed:{hasMessage(){return this.flash&&!D(this.flash.message_expired)}},watch:{flash:{deep:!0,handler(){this.isVisible=!0}}},mounted(){this.hasMessage&&(this.isVisible=!0)}},H={key:0,class:"notification is-warning"},U={class:"alert alert-success"};function j(n,t,d,r,m,a){return a.hasMessage&&m.isVisible?(i(),o("div",H,[s("button",{class:"delete",onClick:t[0]||(t[0]=C(l=>m.isVisible=!1,["prevent"]))}),s("div",U,u(d.flash.message_expired),1)])):v("",!0)}const q=L(F,[["render",j]]),O={name:"BizNavbarMenu",components:{BizLink:P,BizNavbarItem:I},setup(n){const t=y(()=>f().props.value.menus.nav),d=y(()=>f().props.value.menus.navLogo),r=y(()=>f().props.value.menus.navProfile),m=y(()=>f().props.value.appLogoUrl),a=document.getElementsByClassName("navbar-item-dropdown");function l(e){e.target.classList.contains("navbar-link")&&this.classList.toggle("is-active")}function c(){for(let e=0;e<a.length;e++)window.innerWidth<1024?a[e].addEventListener("click",l):(a[e].classList.remove("is-active"),a[e].removeEventListener("click",l))}return T(()=>{c(),window.addEventListener("resize",function(){c()})}),V(()=>{for(let e=0;e<a.length;e++)a[e].removeEventListener("click",l)}),{appLogoImageUrl:m,csrfToken:f().props.value.csrfToken,isMenuDisplay:N(!1),navLogo:d,navMenus:t,navProfile:r}},methods:{switchToTeam(n){this.$inertia.put(route("current-team.update"),{team_id:n.id},{preserveState:!1})},logout(){this.$inertia.post(route("logout"))},showMenu(){this.isMenuDisplay=!this.isMenuDisplay},closeMenu(){this.isMenuDisplay=!1}}},R={class:"navbar has-shadow",role:"navigation","aria-label":"main navigation"},W={class:"container"},G={class:"navbar-brand"},J=["src"],K=s("span",{"aria-hidden":"true"},null,-1),Q=s("span",{"aria-hidden":"true"},null,-1),X=s("span",{"aria-hidden":"true"},null,-1),Y=[K,Q,X],Z={class:"navbar-start"},ee={key:0,class:"navbar-item has-dropdown is-hoverable navbar-item-dropdown"},se={class:"navbar-dropdown"},ae={class:"navbar-end"},te={class:"navbar-item"},ie={class:"navbar-item has-dropdown is-hoverable navbar-item-dropdown"},ne={class:"navbar-link"},re={class:"navbar-dropdown is-boxed"},oe=s("hr",{class:"navbar-divider"},null,-1);function le(n,t,d,r,m,a){const l=_("biz-link"),c=_("biz-navbar-item");return i(),o("nav",R,[s("div",W,[s("div",G,[h(l,{href:r.navLogo?r.navLogo.link:null,class:"navbar-item"},{default:p(()=>[s("img",{alt:"",height:"28",src:r.appLogoImageUrl},null,8,J)]),_:1},8,["href"]),s("a",{role:"button",class:B(["navbar-burger",{"is-active":r.isMenuDisplay}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onClick:t[0]||(t[0]=e=>a.showMenu())},Y,2)]),s("div",{id:"navbarBasicExample",class:B(["navbar-menu",{"is-active":r.isMenuDisplay}])},[s("div",Z,[(i(!0),o(g,null,z(r.navMenus,(e,M)=>(i(),o(g,{key:M},[e.children&&e.isEnabled?(i(),o("div",ee,[s("a",{class:B(["navbar-link",{"is-active":e.isActive}])},u(e.title),3),s("div",se,[(i(!0),o(g,null,z(e.children,(b,x)=>(i(),o(g,{key:x},[b.isEnabled?(i(),w(c,{key:0,"is-internal-link":!0,class:B({"has-text-primary":b.isActive}),url:b.link,onAfterClick:t[1]||(t[1]=ye=>a.closeMenu())},{default:p(()=>[k(u(b.title),1)]),_:2},1032,["class","url"])):v("",!0)],64))),128))])])):(i(),o(g,{key:1},[e.isEnabled?(i(),w(l,{key:0,class:"navbar-item",active:e.isActive,href:e.link,onClick:t[2]||(t[2]=b=>a.closeMenu())},{default:p(()=>[k(u(e.title),1)]),_:2},1032,["active","href"])):v("",!0)],64))],64))),128))]),s("div",ae,[s("div",te,[s("div",ie,[s("a",ne,u(n.$page.props.user.full_name),1),s("div",re,[r.navProfile?(i(),w(c,{key:0,"is-internal-link":"",url:r.navProfile.link,onAfterClick:t[3]||(t[3]=e=>a.closeMenu())},{default:p(()=>[k(u(r.navProfile.title),1)]),_:1},8,["url"])):v("",!0),n.$page.props.jetstream.hasApiFeatures?(i(),w(l,{key:1,href:n.route("api-tokens.index"),class:"navbar-item"},{default:p(()=>[k(" API Tokens ")]),_:1},8,["href"])):v("",!0),oe,h(c,{ref:"logout",url:"",onClick:C(a.logout,["prevent"])},{default:p(()=>[k(" Logout ")]),_:1},8,["onClick"])])])])])],2)])])}const de=L(O,[["render",le]]),ce={name:"AppLayout",components:{BizBreadcrumbs:A,BizNavbarMenu:de,BizFlashExpired:q,HeadTag:S},props:{breadcrumbs:{type:Array,default:()=>[]},title:{type:String,default:null}},computed:{titleChild(){var n,t;return((t=(n=E.head(this.$slots.default()))==null?void 0:n.type.props.title)==null?void 0:t.default)??""},isBreadcrumbsEmpty(){return E.isEmpty(this.breadcrumbs)},hasSideBreadcrumbsSlot(){return!!this.$slots.sideBreadcrumbs}}},ue={id:"main-container-wrapper"},ve={class:"hero is-small is-primary mb-4"},me={class:"hero-body"},pe={class:"container"},_e={class:"title is-size-3"},he={id:"main-container",class:"container mb-2"},be={key:0,class:"columns mb-0"},fe={class:"column"},ge={key:0,class:"column"};function ke(n,t,d,r,m,a){const l=_("HeadTag"),c=_("biz-navbar-menu"),e=_("biz-breadcrumbs"),M=_("biz-flash-expired");return i(),o("div",ue,[h(l,{title:d.title??a.titleChild},null,8,["title"]),h(c),s("section",ve,[s("div",me,[s("div",pe,[s("h3",_e,u(d.title??a.titleChild),1)])])]),s("div",he,[a.isBreadcrumbsEmpty?v("",!0):(i(),o("div",be,[s("div",fe,[h(e,{breadcrumbs:d.breadcrumbs},null,8,["breadcrumbs"])]),a.hasSideBreadcrumbsSlot?(i(),o("div",ge,[$(n.$slots,"sideBreadcrumbs")])):v("",!0)])),h(M,{flash:n.$page.props.flash},null,8,["flash"]),$(n.$slots,"default")])])}const $e=L(ce,[["render",ke]]);export{$e as A};
