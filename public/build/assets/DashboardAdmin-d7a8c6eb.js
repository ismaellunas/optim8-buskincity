import{_ as g}from"./app-4659c85c.js";import{A as j}from"./AppLayout-25ccdbdb.js";import{_ as A}from"./dynamic-import-helper-be004503.js";import{B as O}from"./ButtonLink-71ebb617.js";import{B as P}from"./Checkbox-8d9a17c8.js";import{B as S,a as T}from"./Dropdown-5425ae3a.js";import{B as F}from"./Image-52e0dacd.js";import{B as U}from"./Input-2fb71e37.js";import{B as q}from"./Loader-5695d04b.js";import{B as K,a as H}from"./PanelBlock-876eebcb.js";import{i as M}from"./icon-class-4ab3933f.js";import{C as Q,l as C,z as G,r as m,o as i,f as p,p as c,q as r,i as e,t as f,u as _,n as L,s as N,w as J,F as v,j as B,k as z,ap as k,K as R,Q as X}from"./vue-loading.min-aa20e13d.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import"./Breadcrumbs-0b4348b1.js";import"./Link-2bcf0cab.js";import"./utils-79a9c8b1.js";import"./NavbarItem-7e983d41.js";import"./Button-b3acaac2.js";const Y={name:"LatestRegistration",components:{BizLoader:q,BizButtonLink:O,BizImage:F,BizPanel:K,BizPanelBlock:H,BizInput:U,BizCheckbox:P,BizDropdown:S,BizDropdownItem:T},props:{data:{type:Object,required:!0},title:{type:String,default:""}},data(){return{isLoading:!1,icon:M,userImage:Q,records:[],search:{term:null,roles:[]}}},computed:{totalRoleSelected(){return this.search.roles.length}},mounted(){this.getRecords()},methods:{getRecords(){const o=this;o.isLoading=!0,axios.get(route("admin.api.widget.latest-registrations"),{params:{term:o.search.term,roles:o.search.roles}}).then(s=>{o.records=s.data.records}).then(()=>{o.isLoading=!1})},onSearch:C.debounce(function(o=""){(o.length>2||o.length==0)&&this.getRecords()},G)}},Z={class:"column is-6"},$={class:"columns"},ee={class:"column"},se={class:"column"},te={class:"icon is-small"},oe=e("span",null,"Add New",-1),ne={class:"field is-grouped is-grouped-multiline"},ie={class:"control"},le={class:"control"},ae={class:"icon is-small"},re={class:"media",style:{width:"100%"}},de={class:"media-content"},me={class:"content"},ce=e("br",null,null,-1),ue=e("br",null,null,-1),_e={class:"is-size-7 has-text-grey"},pe=e("br",null,null,-1),he={class:"media-right"},fe={class:"level",style:{width:"100%"}},ge=e("div",{class:"level-left"},null,-1),ve={class:"level-right"};function ye(o,s,t,d,n,h){const l=m("biz-button-link"),u=m("biz-loader"),y=m("biz-input"),E=m("biz-checkbox"),V=m("biz-dropdown-item"),D=m("biz-dropdown"),b=m("biz-panel-block"),I=m("biz-image"),W=m("biz-panel");return i(),p("div",Z,[c(W,{class:"is-white is-relative"},{heading:r(()=>[e("div",$,[e("div",ee,f(t.title),1),e("div",se,[t.data.permissions.add?(i(),_(l,{key:0,class:"is-primary is-small is-pulled-right",href:o.route(t.data.baseRouteName+".create")},{default:r(()=>[e("span",te,[e("i",{class:L(n.icon.add)},null,2)]),oe]),_:1},8,["href"])):N("",!0)])])]),default:r(()=>[c(u,{modelValue:n.isLoading,"onUpdate:modelValue":s[0]||(s[0]=a=>n.isLoading=a),"is-full-page":!1},null,8,["modelValue"]),c(b,null,{default:r(()=>[e("div",ne,[e("div",ie,[c(y,{modelValue:n.search.term,"onUpdate:modelValue":s[1]||(s[1]=a=>n.search.term=a),class:"is-small",placeholder:"Search...",maxlength:"255",onKeyup:s[2]||(s[2]=J(a=>h.onSearch(n.search.term),["prevent"]))},null,8,["modelValue"])]),e("div",le,[c(D,{"close-on-click":!1,"class-button":"is-small"},{trigger:r(()=>[e("span",null,"Type ("+f(h.totalRoleSelected)+")",1),e("span",ae,[e("i",{class:L(n.icon.angleDown),"aria-hidden":"true"},null,2)])]),default:r(()=>[(i(!0),p(v,null,B(t.data.roleOptions,a=>(i(),_(V,{key:a.id},{default:r(()=>[c(E,{checked:n.search.roles,"onUpdate:checked":s[3]||(s[3]=w=>n.search.roles=w),value:a.id,onChange:s[4]||(s[4]=w=>h.getRecords())},{default:r(()=>[z(" Â  "+f(a.value),1)]),_:2},1032,["checked","value"])]),_:2},1024))),128))]),_:1})])])]),_:1}),n.records.length>0?(i(!0),p(v,{key:0},B(n.records,a=>(i(),_(b,{key:a.id},{default:r(()=>[e("div",re,[c(I,{class:"media-left",ratio:"is-64x64",rounded:"is-rounded",src:a.profile_photo_url??n.userImage},null,8,["src"]),e("div",de,[e("div",me,[e("p",null,[e("strong",null,f(a.full_name),1),ce,e("span",null,f(a.email),1),ue,e("span",_e," Registered, "+f(a.registered_at),1),pe])])]),e("div",he,[t.data.permissions.edit?(i(),_(l,{key:0,class:"is-primary is-outlined is-small",href:o.route(t.data.baseRouteName+".edit",a.id)},{default:r(()=>[z(" View Detail ")]),_:2},1032,["href"])):N("",!0)])])]),_:2},1024))),128)):(i(),_(b,{key:1},{default:r(()=>[z(" Data empty. ")]),_:1})),c(b,null,{default:r(()=>[e("div",fe,[ge,e("div",ve,[c(l,{class:"is-primary is-outlined is-small",href:o.route(t.data.baseRouteName+".index")},{default:r(()=>[z(" View All ")]),_:1},8,["href"])])])]),_:1})]),_:1})])}const be=x(Y,[["render",ye]]),ze={name:"BizWidgetColumnsAdmin",components:{LatestRegistration:be},props:{widgets:{type:Array,default:()=>[]},moduleWidgets:{type:Array,default:()=>[]}},setup(o){const s={};return o.moduleWidgets.forEach(t=>{t.moduleName=="FormBuilder"&&(s[t.componentName]=k(()=>A(Object.assign({"../../../../modules/FormBuilder/Resources/assets/js/Widgets/FormEntry.vue":()=>g(()=>import("./FormEntry-51008865.js"),["assets/FormEntry-51008865.js","assets/ButtonLink-71ebb617.js","assets/Link-2bcf0cab.js","assets/vue-loading.min-aa20e13d.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/Loader-5695d04b.js","assets/utils-79a9c8b1.js","assets/Pagination-8d9b0028.js","assets/Button-b3acaac2.js","assets/PanelBlock-876eebcb.js","assets/Select-9fda6861.js","assets/Table-2efbef14.js","assets/icon-class-4ab3933f.js"])}),`../../../../modules/FormBuilder/Resources/assets/js/Widgets/${t.componentName}.vue`))),t.moduleName=="Booking"&&(s[t.componentName]=k(()=>A(Object.assign({"../../../../modules/Booking/Resources/assets/js/Widgets/EventUpcoming.vue":()=>g(()=>import("./EventUpcoming-b5e80e98.js"),["assets/EventUpcoming-b5e80e98.js","assets/ButtonLink-71ebb617.js","assets/Link-2bcf0cab.js","assets/vue-loading.min-aa20e13d.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/Icon-150b61ef.js","assets/Table-2efbef14.js","assets/icon-class-4ab3933f.js"]),"../../../../modules/Booking/Resources/assets/js/Widgets/LatestBooking.vue":()=>g(()=>import("./LatestBooking-a62b1e1e.js"),["assets/LatestBooking-a62b1e1e.js","assets/ButtonLink-71ebb617.js","assets/Link-2bcf0cab.js","assets/vue-loading.min-aa20e13d.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/Checkbox-8d9a17c8.js","assets/Dropdown-5425ae3a.js","assets/Button-b3acaac2.js","assets/utils-79a9c8b1.js","assets/DropdownSearch-bd4068c6.js","assets/Input-2fb71e37.js","assets/Icon-150b61ef.js","assets/icon-class-4ab3933f.js","assets/DateRange-7ae8c660.js","assets/Datepicker-847140ac.js","assets/Datepicker-436c8958.css","assets/moment-fbc5633a.js","assets/Loader-5695d04b.js","assets/PanelBlock-876eebcb.js","assets/Table-2efbef14.js"])}),`../../../../modules/Booking/Resources/assets/js/Widgets/${t.componentName}.vue`)))}),{asyncComponents:s}},computed:{allWidgets(){return C.sortBy([...this.widgets,...this.moduleWidgets],["order"])}},methods:{isAsyncComponentExists(o){return!!this.asyncComponents[o]}}},Be={class:"columns is-multiline"};function ke(o,s,t,d,n,h){return i(),p("div",null,[e("div",Be,[(i(!0),p(v,null,B(h.allWidgets,(l,u)=>(i(),p(v,{key:u},[h.isAsyncComponentExists(l.componentName)?(i(),_(R(d.asyncComponents[l.componentName]),{key:0,columns:l.columns,data:l.data,order:u,title:l.title},null,8,["columns","data","order","title"])):(i(),_(R(l.componentName),{key:1,columns:l.columns,data:l.data,order:u,title:l.title},null,8,["columns","data","order","title"]))],64))),128))])])}const Re=x(ze,[["render",ke]]),xe={name:"DashboardAdmin",components:{BizWidgetColumnsAdmin:Re},layout:j,props:{moduleWidgets:{type:Array,default:()=>[]},title:{type:String,required:!0},widgets:{type:Array,default:()=>[]},storedWidgets:{type:Array,default:()=>[]}},setup(o){const s={};let t=[];return o.storedWidgets.forEach(d=>{const n=/[^/]*$/.exec(d.vue)[0];d.module?s[n]=k(()=>g(()=>import("./../../../modules/"+d.module+"/Resources/assets/js/Widgets/"+d.vue+".vue"),[])):s[n]=k(()=>g(()=>import("./../"+d.vue+".vue"),[])),t.push({...d,componentName:n})}),{asyncComponents:s,widgetLists:t}}},we={class:"py-12"},Ae={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Le={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Ne={class:"columns is-multiline"};function Ce(o,s,t,d,n,h){const l=m("biz-widget-columns-admin");return i(),p("div",we,[e("div",Ae,[e("div",Le,[e("div",Ne,[(i(!0),p(v,null,B(d.widgetLists,(u,y)=>(i(),_(R(d.asyncComponents[u.componentName]),X({key:y,class:"column"},{...u,order:y}),null,16))),128))]),c(l,{widgets:t.widgets,"module-widgets":t.moduleWidgets},null,8,["widgets","module-widgets"])])])])}const Je=x(xe,[["render",Ce]]);export{Je as default};
