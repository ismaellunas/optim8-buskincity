import{o as a,f as d,p as l,q as i,m as y,y as $,i as t,x as m,T as x,r as u,L as z,M as N,u as C,n as b,s as v,a0 as U,w as q,a7 as O,t as k,k as p,F as T,j as A}from"./vue-loading.min-a6a947f0.js";import{_ as f}from"./_plugin-vue_export-helper-c27b6911.js";import{J as Y,a as G,b as H}from"./Label-e86886ea.js";const K={props:["on"]},Q={class:"text-sm text-gray-600"};function R(e,s,o,_,n,c){return a(),d("div",null,[l(x,{"leave-active-class":"transition ease-in duration-1000","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[y(t("div",Q,[m(e.$slots,"default")],512),[[$,o.on]])]),_:3})])}const X=f(K,[["render",R]]),Z={},ee={class:"container py-4"},te={class:"is-size-4 has-text-weight-semibold"},se={class:"is-size-6"},oe={class:"px-4 px-0-mobile"};function ne(e,s){return a(),d("div",ee,[t("h1",te,[m(e.$slots,"title")]),t("h2",se,[m(e.$slots,"description")]),t("div",oe,[m(e.$slots,"aside")])])}const B=f(Z,[["render",ne]]),ie={components:{JetSectionTitle:B}},le={class:"box"},ae={class:"columns"},ce={class:"column is-one-third"},re={class:"column is-two-thirds"},de={class:"px-4 py-4"};function me(e,s,o,_,n,c){const h=u("jet-section-title");return a(),d("div",le,[t("div",ae,[t("div",ce,[l(h,null,{title:i(()=>[m(e.$slots,"title")]),description:i(()=>[m(e.$slots,"description")]),_:3})]),t("div",re,[t("div",de,[m(e.$slots,"content")])])])])}const ue=f(ie,[["render",me]]),_e={emits:["close"],props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},watch:{show:{immediate:!0,handler:e=>{e?document.body.style.overflow="hidden":document.body.style.overflow=null}}},setup(e,{emit:s}){const o=()=>{e.closeable&&s("close")},_=n=>{n.key==="Escape"&&e.show&&o()};return z(()=>document.addEventListener("keydown",_)),N(()=>{document.removeEventListener("keydown",_),document.body.style.overflow=null}),{close:o}},computed:{maxWidthClass(){return{sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"}[this.maxWidth]}}},pe={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50","scroll-region":""},he=t("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1),fe=[he];function ve(e,s,o,_,n,c){return a(),C(U,{to:"body"},[l(x,{"leave-active-class":"duration-200"},{default:i(()=>[y(t("div",pe,[l(x,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[y(t("div",{class:"fixed inset-0 transform transition-all",onClick:s[0]||(s[0]=(...h)=>_.close&&_.close(...h))},fe,512),[[$,o.show]])]),_:1}),l(x,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:i(()=>[y(t("div",{class:b(["mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",c.maxWidthClass])},[o.show?m(e.$slots,"default",{key:0}):v("",!0)],2),[[$,o.show]])]),_:3})],512),[[$,o.show]])]),_:3})])}const D=f(_e,[["render",ve]]),ke={emits:["close"],components:{Modal:D},props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},methods:{close(){this.$emit("close")}}},ye={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ge={class:"sm:flex sm:items-start"},$e=t("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[t("svg",{class:"h-6 w-6 text-red-600",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),be={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},xe={class:"text-lg"},we={class:"mt-2"},Te={class:"px-6 py-4 bg-gray-100 text-right"};function Ae(e,s,o,_,n,c){const h=u("modal");return a(),C(h,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:c.close},{default:i(()=>[t("div",ye,[t("div",ge,[$e,t("div",be,[t("h3",xe,[m(e.$slots,"title")]),t("div",we,[m(e.$slots,"content")])])])]),t("div",Te,[m(e.$slots,"footer")])]),_:3},8,["show","max-width","closeable","onClose"])}const Ce=f(ke,[["render",Ae]]),je={props:{type:{type:String,default:"button"}}},Fe=["type"];function Pe(e,s,o,_,n,c){return a(),d("button",{type:o.type,class:"button is-danger"},[m(e.$slots,"default")],8,Fe)}const Se=f(je,[["render",Pe]]),Be={emits:["close"],components:{Modal:D},props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},methods:{close(){this.$emit("close")}}},De={class:"px-6 py-4"},Je={class:"text-lg"},Me={class:"mt-4"},Ie={class:"px-6 py-4 bg-gray-100 text-right"};function Le(e,s,o,_,n,c){const h=u("modal");return a(),C(h,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:c.close},{default:i(()=>[t("div",De,[t("div",Je,[m(e.$slots,"title")]),t("div",Me,[m(e.$slots,"content")])]),t("div",Ie,[m(e.$slots,"footer")])]),_:3},8,["show","max-width","closeable","onClose"])}const Ve=f(Be,[["render",Le]]),We={emits:["submitted"],components:{JetSectionTitle:B},computed:{hasActions(){return!!this.$slots.actions}}},Ee={class:"box"},ze={class:"columns"},Ne={class:"column is-one-third"},Ue={class:"column is-two-thirds"},qe={class:""},Oe={key:0,class:"px-4 py-3"};function Ye(e,s,o,_,n,c){const h=u("jet-section-title");return a(),d("div",Ee,[t("div",ze,[t("div",Ne,[l(h,null,{title:i(()=>[m(e.$slots,"title")]),description:i(()=>[m(e.$slots,"description")]),_:3})]),t("div",Ue,[t("form",{onSubmit:s[0]||(s[0]=q(j=>e.$emit("submitted"),["prevent"]))},[t("div",{class:b(["px-4 py-4",(c.hasActions,"")])},[t("div",qe,[m(e.$slots,"form")])],2),c.hasActions?(a(),d("div",Oe,[m(e.$slots,"actions")])):v("",!0)],32)])])])}const Ge=f(We,[["render",Ye]]),He={emits:["update:checked"],props:{checked:{type:[Array,Boolean],default:!1},value:{default:null}},computed:{proxyChecked:{get(){return this.checked},set(e){this.$emit("update:checked",e)}}}},Ke=["value"];function Qe(e,s,o,_,n,c){return y((a(),d("input",{type:"checkbox",value:o.value,"onUpdate:modelValue":s[0]||(s[0]=h=>c.proxyChecked=h),class:""},null,8,Ke)),[[O,c.proxyChecked]])}const Re=f(He,[["render",Qe]]),Xe={props:["message"]},Ze={class:"text-sm text-red-600"};function et(e,s,o,_,n,c){return y((a(),d("div",null,[t("p",Ze,k(o.message),1)],512)),[[$,o.message]])}const tt=f(Xe,[["render",et]]),st={props:{type:{type:String,default:"button"}}},ot=["type"];function nt(e,s,o,_,n,c){return a(),d("button",{type:o.type,class:"button is-warning"},[m(e.$slots,"default")],8,ot)}const it=f(st,[["render",nt]]),lt={},at={class:"hidden sm:block"},ct=t("div",{class:"py-8"},[t("div",{class:"border-t border-gray-200"})],-1),rt=[ct];function dt(e,s){return a(),d("div",at,rt)}const mt=f(lt,[["render",dt]]),ut={components:{JetActionMessage:X,JetActionSection:ue,JetButton:Y,JetConfirmationModal:Ce,JetDangerButton:Se,JetDialogModal:Ve,JetFormSection:Ge,JetInput:G,JetCheckbox:Re,JetInputError:tt,JetLabel:H,JetSecondaryButton:it,JetSectionBorder:mt},props:["tokens","availablePermissions","defaultPermissions"],data(){return{createApiTokenForm:this.$inertia.form({name:"",permissions:this.defaultPermissions}),updateApiTokenForm:this.$inertia.form({permissions:[]}),deleteApiTokenForm:this.$inertia.form(),displayingToken:!1,managingPermissionsFor:null,apiTokenBeingDeleted:null}},methods:{createApiToken(){this.createApiTokenForm.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{this.displayingToken=!0,this.createApiTokenForm.reset()}})},manageApiTokenPermissions(e){this.updateApiTokenForm.permissions=e.abilities,this.managingPermissionsFor=e},updateApiToken(){this.updateApiTokenForm.put(route("api-tokens.update",this.managingPermissionsFor),{preserveScroll:!0,preserveState:!0,onSuccess:()=>this.managingPermissionsFor=null})},confirmApiTokenDeletion(e){this.apiTokenBeingDeleted=e},deleteApiToken(){this.deleteApiTokenForm.delete(route("api-tokens.destroy",this.apiTokenBeingDeleted),{preserveScroll:!0,preserveState:!0,onSuccess:()=>this.apiTokenBeingDeleted=null})}}},_t={class:"col-span-6 sm:col-span-4"},pt={key:0,class:"col-span-6"},ht={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},ft={class:"flex items-center"},vt={class:"ml-2 text-sm text-gray-600"},kt={key:0},yt={class:"mt-10 sm:mt-0"},gt={class:"space-y-6"},$t={class:"flex items-center"},bt={key:0,class:"text-sm text-gray-400"},xt=["onClick"],wt=["onClick"],Tt=t("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1),At={key:0,class:"mt-4 bg-gray-100 px-4 py-2 rounded font-mono text-sm text-gray-500"},Ct={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},jt={class:"flex items-center"},Ft={class:"ml-2 text-sm text-gray-600"};function Pt(e,s,o,_,n,c){const h=u("jet-label"),j=u("jet-input"),J=u("jet-input-error"),F=u("jet-checkbox"),M=u("jet-action-message"),P=u("jet-button"),I=u("jet-form-section"),L=u("jet-section-border"),V=u("jet-action-section"),w=u("jet-secondary-button"),S=u("jet-dialog-modal"),W=u("jet-danger-button"),E=u("jet-confirmation-modal");return a(),d("div",null,[l(I,{onSubmitted:c.createApiToken},{title:i(()=>[p(" Create API Token ")]),description:i(()=>[p(" API tokens allow third-party services to authenticate with our application on your behalf. ")]),form:i(()=>[t("div",_t,[l(h,{for:"name",value:"Name"}),l(j,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:n.createApiTokenForm.name,"onUpdate:modelValue":s[0]||(s[0]=r=>n.createApiTokenForm.name=r),autofocus:""},null,8,["modelValue"]),l(J,{message:n.createApiTokenForm.errors.name,class:"mt-2"},null,8,["message"])]),o.availablePermissions.length>0?(a(),d("div",pt,[l(h,{for:"permissions",value:"Permissions"}),t("div",ht,[(a(!0),d(T,null,A(o.availablePermissions,r=>(a(),d("div",{key:r},[t("label",ft,[l(F,{value:r,checked:n.createApiTokenForm.permissions,"onUpdate:checked":s[1]||(s[1]=g=>n.createApiTokenForm.permissions=g)},null,8,["value","checked"]),t("span",vt,k(r),1)])]))),128))])])):v("",!0)]),actions:i(()=>[l(M,{on:n.createApiTokenForm.recentlySuccessful,class:"mr-3"},{default:i(()=>[p(" Created. ")]),_:1},8,["on"]),l(P,{class:b({"opacity-25":n.createApiTokenForm.processing}),disabled:n.createApiTokenForm.processing},{default:i(()=>[p(" Create ")]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"]),o.tokens.length>0?(a(),d("div",kt,[l(L),t("div",yt,[l(V,null,{title:i(()=>[p(" Manage API Tokens ")]),description:i(()=>[p(" You may delete any of your existing tokens if they are no longer needed. ")]),content:i(()=>[t("div",gt,[(a(!0),d(T,null,A(o.tokens,r=>(a(),d("div",{class:"flex items-center justify-between",key:r.id},[t("div",null,k(r.name),1),t("div",$t,[r.last_used_ago?(a(),d("div",bt," Last used "+k(r.last_used_ago),1)):v("",!0),o.availablePermissions.length>0?(a(),d("button",{key:1,class:"cursor-pointer ml-6 text-sm text-gray-400 underline",onClick:g=>c.manageApiTokenPermissions(r)}," Permissions ",8,xt)):v("",!0),t("button",{class:"cursor-pointer ml-6 text-sm text-red-500",onClick:g=>c.confirmApiTokenDeletion(r)}," Delete ",8,wt)])]))),128))])]),_:1})])])):v("",!0),l(S,{show:n.displayingToken,onClose:s[3]||(s[3]=r=>n.displayingToken=!1)},{title:i(()=>[p(" API Token ")]),content:i(()=>[Tt,e.$page.props.jetstream.flash.token?(a(),d("div",At,k(e.$page.props.jetstream.flash.token),1)):v("",!0)]),footer:i(()=>[l(w,{onClick:s[2]||(s[2]=r=>n.displayingToken=!1)},{default:i(()=>[p(" Close ")]),_:1})]),_:1},8,["show"]),l(S,{show:n.managingPermissionsFor,onClose:s[6]||(s[6]=r=>n.managingPermissionsFor=null)},{title:i(()=>[p(" API Token Permissions ")]),content:i(()=>[t("div",Ct,[(a(!0),d(T,null,A(o.availablePermissions,r=>(a(),d("div",{key:r},[t("label",jt,[l(F,{value:r,checked:n.updateApiTokenForm.permissions,"onUpdate:checked":s[4]||(s[4]=g=>n.updateApiTokenForm.permissions=g)},null,8,["value","checked"]),t("span",Ft,k(r),1)])]))),128))])]),footer:i(()=>[l(w,{onClick:s[5]||(s[5]=r=>n.managingPermissionsFor=null)},{default:i(()=>[p(" Cancel ")]),_:1}),l(P,{class:b(["ml-2",{"opacity-25":n.updateApiTokenForm.processing}]),onClick:c.updateApiToken,disabled:n.updateApiTokenForm.processing},{default:i(()=>[p(" Save ")]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"]),l(E,{show:n.apiTokenBeingDeleted,onClose:s[8]||(s[8]=r=>n.apiTokenBeingDeleted=null)},{title:i(()=>[p(" Delete API Token ")]),content:i(()=>[p(" Are you sure you would like to delete this API token? ")]),footer:i(()=>[l(w,{onClick:s[7]||(s[7]=r=>n.apiTokenBeingDeleted=null)},{default:i(()=>[p(" Cancel ")]),_:1}),l(W,{class:b(["ml-2",{"opacity-25":n.deleteApiTokenForm.processing}]),onClick:c.deleteApiToken,disabled:n.deleteApiTokenForm.processing},{default:i(()=>[p(" Delete ")]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"])])}const Jt=f(ut,[["render",Pt]]);export{Jt as default};
