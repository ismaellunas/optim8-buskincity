import{A as v}from"./AppLayout-25ccdbdb.js";import{B as L}from"./Button-b3acaac2.js";import{B as k}from"./ButtonLink-71ebb617.js";import{B}from"./ErrorNotifications-805a6bc2.js";import y from"./Form-f7605f6d.js";import{o as z}from"./alert-e0e75cb7.js";import{I as f,H as C,f as _,p as i,i as r,F as N,j as O,w as P,q as m,r as a,o as u,u as S,k as p,t as V,n as x}from"./vue-loading.min-aa20e13d.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./Breadcrumbs-0b4348b1.js";import"./Link-2bcf0cab.js";import"./utils-79a9c8b1.js";import"./NavbarItem-7e983d41.js";import"./HasPageErrors-4d447fdf.js";import"./Input-50a73630.js";import"./Field-fbae01a6.js";import"./Field-c2e062a9.js";import"./Input-2fb71e37.js";import"./InputError-bc1e9f36.js";import"./Textarea-18e9b25c.js";import"./Textarea-3c29db5c.js";import"./sweetalert2.all-ebd52f41.js";const q={name:"TranslationManagerCreate",components:{BizButton:L,BizButtonLink:k,BizErrorNotifications:B,TranslationManagerForm:y},layout:v,props:{baseRouteName:{type:String,required:!0},groupOptions:{type:Object,default:()=>{}},referenceLocale:{type:String,required:!0},title:{type:String,required:!0}},setup(){let e={},o=f().props.value.languageOptions;return o.forEach(function(t){e[t.id]=null}),{defaultLocale:f().props.value.defaultLanguage,localeOptions:o,form:C({key:null,value:e})}},data(){return{isProcessing:!1,loader:null,selectedLocale:this.referenceLocale}},methods:{submit(){const e=this;e.form.post(route(e.baseRouteName+".store"),{onStart:()=>{e.loader=e.$loading.show(),e.isProcessing=!0},onFinish:()=>{e.loader.hide(),e.isProcessing=!1}})},changeLocale(e){let o={};this.localeOptions.map(t=>{t.id==this.referenceLocale&&(o=t)}),this.form.value[this.referenceLocale]?this.selectedLocale=e:z({text:"Please provide "+o.name+" ("+o.id.toUpperCase()+") translation first!"})}}},w={class:"box mb-6"},R={class:"columns my-0"},E={class:"column py-0"},M={class:"buttons is-pulled-right"},T={class:"field is-grouped is-grouped-right"},j={class:"control"},A={class:"control"};function U(e,o,t,n,l,c){const g=a("biz-error-notifications"),d=a("biz-button"),b=a("translation-manager-form"),h=a("biz-button-link");return u(),_("div",null,[i(g,{errors:e.$page.props.errors},null,8,["errors"]),r("div",w,[r("div",R,[r("div",E,[r("p",M,[(u(!0),_(N,null,O(n.localeOptions,s=>(u(),S(d,{key:s.id,class:x(["is-small is-link is-rounded",s.id==l.selectedLocale?"":"is-light"]),onClick:D=>c.changeLocale(s.id)},{default:m(()=>[p(V(s.name),1)]),_:2},1032,["class","onClick"]))),128))])])]),r("form",{onSubmit:o[1]||(o[1]=P((...s)=>c.submit&&c.submit(...s),["prevent"]))},[i(b,{modelValue:n.form,"onUpdate:modelValue":o[0]||(o[0]=s=>n.form=s),"base-route-name":t.baseRouteName,"group-options":t.groupOptions,"is-input-disabled":l.isProcessing,"selected-locale":l.selectedLocale,"reference-locale":t.referenceLocale},null,8,["modelValue","base-route-name","group-options","is-input-disabled","selected-locale","reference-locale"]),r("div",T,[r("div",j,[i(h,{href:e.route(t.baseRouteName+".edit"),class:"is-link is-light"},{default:m(()=>[p(" Cancel ")]),_:1},8,["href"])]),r("div",A,[i(d,{class:"is-link"},{default:m(()=>[p(" Create ")]),_:1})])])],32)])])}const me=F(q,[["render",U]]);export{me as default};
