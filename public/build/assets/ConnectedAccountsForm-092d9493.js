import{M as A}from"./HasLoader-a564cfe6.js";import{M as k}from"./HasModal-fa56130c.js";import{F as I}from"./ActionSection-a95d067d.js";import{B as x}from"./Button-b3acaac2.js";import{B as M}from"./ModalCard-42b1747b.js";import{o as t,f as r,i as s,u as f,K as y,q as _,r as u,k as p,j as F,F as b,p as m,t as v,n as B,s as w}from"./vue-loading.min-aa20e13d.js";import{_ as d}from"./_plugin-vue_export-helper-c27b6911.js";const T={name:"FacebookIcon"},L={class:"icon"},z=s("i",{class:"fa-brands fa-facebook"},null,-1),P=[z];function S(o,n,i,l,a,e){return t(),r("span",L,P)}const G=d(T,[["render",S]]),R={name:"GoogleIcon"},D={class:"icon"},E=s("i",{class:"fa-brands fa-google"},null,-1),O=[E];function N(o,n,i,l,a,e){return t(),r("span",D,O)}const V=d(R,[["render",N]]),j={name:"TwitterIcon"},H={class:"icon"},q=s("i",{class:"fa-brands fa-twitter"},null,-1),K=[q];function U(o,n,i,l,a,e){return t(),r("span",H,K)}const J=d(j,[["render",U]]),Q={name:"LinkedInIcon"},W={class:"icon"},X=s("i",{class:"fa-brands fa-linkedin"},null,-1),Y=[X];function Z(o,n,i,l,a,e){return t(),r("span",W,Y)}const oo=d(Q,[["render",Z]]),no={name:"GithubIcon"},eo={class:"icon"},to=s("i",{class:"fa-brands fa-github"},null,-1),so=[to];function co(o,n,i,l,a,e){return t(),r("span",eo,so)}const ao=d(no,[["render",co]]),ro={name:"GitLabIcon"},io={class:"icon"},lo=s("i",{class:"fa-brands fa-gitlab"},null,-1),_o=[lo];function uo(o,n,i,l,a,e){return t(),r("span",io,_o)}const po=d(ro,[["render",uo]]),mo={name:"BitbucketIcon"},fo={class:"icon"},ho=s("i",{class:"fa-brands fa-bitbucket"},null,-1),$o=[ho];function bo(o,n,i,l,a,e){return t(),r("span",fo,$o)}const vo=d(mo,[["render",bo]]),Co={components:{BitbucketIcon:vo,FacebookIcon:G,GithubIcon:ao,GitlabIcon:po,GoogleIcon:V,LinkedinIcon:oo,TwitterIcon:J},props:{provider:{type:String,default:null}}};function go(o,n,i,l,a,e){return t(),f(y(i.provider+"-icon"))}const Ao=d(Co,[["render",go]]),ko={components:{ActionSection:I,BizButton:x,BizModalCard:M,ConnectedAccountIcon:Ao},mixins:[A,k],inject:["socialiteDrivers"],data(){return{accountId:null,form:this.$inertia.form({_method:"DELETE"},{bag:"removeConnectedAccount"})}},computed:{hasMoreThanOneConnectedAccount(){return this.$page.props.socialstream.connectedAccounts.length>1},canRemoveConnectedAccount(){return this.hasMoreThanOneConnectedAccount||this.$page.props.socialstream.hasPassword}},methods:{confirmRemove(o){this.canRemoveConnectedAccount&&(this.form.password="",this.accountId=o,this.openModal())},hasAccountForProvider(o){return this.$page.props.socialstream.connectedAccounts.filter(n=>n.provider===o).length>0},getAccountForProvider(o){return this.hasAccountForProvider(o)?this.$page.props.socialstream.connectedAccounts.filter(n=>n.provider===o).shift():null},removeConnectedAccount(o){this.onStartLoadingOverlay(),this.form.post(route("connected-accounts.destroy",{id:o}),{preserveScroll:!0,onSuccess:()=>this.closeModal(),onFinish:()=>this.onEndLoadingOverlay()})},providerTitle(o){return o.charAt(0).toUpperCase()+o.slice(1)}}},Io={class:"buttons"},xo={class:"has-text-weight-bold"},Mo=s("span",null," - Connected",-1),yo=["href"],Fo={class:"has-text-weight-bold"},Bo=s("p",{class:"modal-card-title has-text-weight-bold"}," Remove Connected Account ",-1);function wo(o,n,i,l,a,e){const $=u("connected-account-icon"),h=u("biz-button"),C=u("biz-modal-card"),g=u("action-section");return t(),f(g,null,{title:_(()=>[p(" Connected Accounts ")]),content:_(()=>[s("div",Io,[(t(!0),r(b,null,F(e.socialiteDrivers,c=>(t(),r(b,{key:c},[e.hasAccountForProvider(c)?(t(),f(h,{key:0,class:"is-medium mr-4",onClick:To=>e.confirmRemove(e.getAccountForProvider(c).id)},{default:_(()=>[m($,{provider:c},null,8,["provider"]),s("span",xo,v(e.providerTitle(c)),1),Mo]),_:2},1032,["onClick"])):(t(),r("a",{key:1,href:o.route("oauth.redirect",{provider:c}),class:"button is-medium mr-4"},[m($,{provider:c},null,8,["provider"]),s("span",Fo,v(e.providerTitle(c)),1)],8,yo))],64))),128))]),o.isModalOpen?(t(),f(C,{key:0,onClose:n[3]||(n[3]=c=>o.closeModal())},{header:_(()=>[Bo,s("button",{class:"delete","aria-label":"close",onClick:n[0]||(n[0]=c=>o.closeModal())})]),default:_(()=>[p(" Please confirm your removal of this account - this action cannot be undone. ")]),footer:_(()=>[m(h,{onClick:n[1]||(n[1]=c=>o.closeModal())},{default:_(()=>[p(" Cancel ")]),_:1}),m(h,{class:B(["is-primary ml-2",{"opacity-25":a.form.processing}]),disabled:a.form.processing,onClick:n[2]||(n[2]=c=>e.removeConnectedAccount(a.accountId))},{default:_(()=>[p(" Remove Connected Account ")]),_:1},8,["class","disabled"])]),_:1})):w("",!0)]),_:1})}const Eo=d(ko,[["render",wo]]);export{Eo as default};
