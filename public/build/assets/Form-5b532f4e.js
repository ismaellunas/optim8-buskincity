import{M as k}from"./HasPageErrors-da5616c1.js";import{B as x}from"./Checkbox-8f917da5.js";import{B as g}from"./Input-137492c5.js";import{l as y,f as n,p as u,i as r,F as f,j as p,r as _,o as a,t as h,q as z,k as B}from"./vue-loading.min-a6a947f0.js";import{u as C}from"./utils-caa7a80b.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";import"./Field-a8082082.js";import"./Field-e1691255.js";import"./Input-4c73d710.js";import"./InputError-9b7084c8.js";const F={name:"RoleForm",components:{BizCheckbox:x,BizFormInput:g},mixins:[k],props:{errors:{type:Object,default:()=>{}},modelValue:{type:Object,required:!0},permissionOptions:{type:Object,default:()=>{}}},setup(e,{emit:s}){return{form:C(e,s)}},methods:{hasPermission(e){return this.form.permissions.includes(e.id)},permissionDisabled(e,s){if(e.isAll)return null;{const i=s.find(function(o){return o.isAll});return i&&this.form.permissions.includes(i.value)?!0:null}},onPermissionClicked(e,s){const i=this.form;e.isAll&&i.permissions.includes(e.value)&&s.filter(o=>!o.isAll).forEach(function(o){y.pull(i.permissions,o.value)})}}},O={class:"columns is-multiline"},P={class:"label"},j={class:"ml-4"},A={class:"field-body"},E={class:"field"},q={class:"control"};function D(e,s,i,o,M,m){const b=_("biz-form-input"),v=_("biz-checkbox");return a(),n("div",null,[u(b,{modelValue:o.form.name,"onUpdate:modelValue":s[0]||(s[0]=t=>o.form.name=t),label:"Role Name",required:"",maxlength:"255",message:e.error("name")},null,8,["modelValue","message"]),r("div",O,[(a(!0),n(f,null,p(i.permissionOptions,(t,d)=>(a(),n("div",{key:d,class:"column is-4"},[r("label",P,h(d),1),r("div",j,[(a(!0),n(f,null,p(t,l=>(a(),n("div",{key:l.id,class:"field is-horizontal"},[r("div",A,[r("div",E,[r("div",q,[u(v,{checked:o.form.permissions,"onUpdate:checked":c=>o.form.permissions=c,disabled:m.permissionDisabled(l,t),value:l.value,onChange:c=>m.onPermissionClicked(l,t)},{default:z(()=>[B(" Â  "+h(l.title),1)]),_:2},1032,["checked","onUpdate:checked","disabled","value","onChange"])])])])]))),128))])]))),128))])])}const G=V(F,[["render",D]]);export{G as default};
