import{M as v}from"./FilterDataHandle-94157290.js";import{A as B}from"./AppLayout-25ccdbdb.js";import{B as z}from"./ButtonIcon-05c24ca4.js";import{B as x}from"./ButtonLink-71ebb617.js";import{B as S}from"./Search-cafe34ab.js";import{B as k}from"./Icon-150b61ef.js";import{B as q}from"./TableIndex-6b2a4ef8.js";import{i as N}from"./icon-class-4ab3933f.js";import{c as E,o as L,s as R}from"./alert-e0e75cb7.js";import{l as C,B as h,f as m,i as e,p as i,q as a,r as n,o as d,F as O,j as P,t as _,w}from"./vue-loading.min-aa20e13d.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./HasLoader-a564cfe6.js";import"./Breadcrumbs-0b4348b1.js";import"./Link-2bcf0cab.js";import"./utils-79a9c8b1.js";import"./NavbarItem-7e983d41.js";import"./Button-b3acaac2.js";import"./Field-c2e062a9.js";import"./Input-2fb71e37.js";import"./Pagination-8d9b0028.js";import"./Table-2efbef14.js";import"./TableInfo-c372d0e5.js";import"./sweetalert2.all-ebd52f41.js";const I={name:"RoleIndex",components:{BizButtonIcon:z,BizButtonLink:x,BizFilterSearch:S,BizIcon:k,BizTableIndex:q},mixins:[v],layout:B,props:{baseRouteName:{type:String,required:!0},pageQueryParams:{type:Object,default:()=>{}},records:{type:Object,required:!0},title:{type:String,required:!0}},setup(t){var r;const o=C.merge({},t.pageQueryParams);return{queryParams:h(o),term:h(((r=t.pageQueryParams)==null?void 0:r.term)??null)}},data(){return{icon:N,loader:null}},methods:{deleteRecord(t){const o=this;E().then(r=>{r.isConfirmed&&o.$inertia.delete(route(o.baseRouteName+".destroy",t.id),{onStart:o.onStartLoadingOverlay,onFinish:o.onEndLoadingOverlay,onError:o.onError,onSuccess:o.onSuccess})})},onError(t){L()},onSuccess(t){R(t.props.flash.message)},onStartLoadingOverlay(){this.loader=this.$loading.show()},onEndLoadingOverlay(){this.loader.hide()}}},V={class:"box"},j={class:"columns"},A={class:"column is-4"},D={class:"column is-4 is-offset-4 has-text-right"},M=e("span",null,"Create New",-1),Q=e("tr",null,[e("th",null,"#"),e("th",null,"Name"),e("th",null,[e("div",{class:"level-right"}," Actions ")])],-1),H={class:"level-right"};function T(t,o,r,l,c,f){const b=n("biz-filter-search"),u=n("biz-icon"),p=n("biz-button-link"),y=n("biz-button-icon"),g=n("biz-table-index");return d(),m("div",null,[e("div",V,[e("div",j,[e("div",A,[i(b,{modelValue:l.term,"onUpdate:modelValue":o[0]||(o[0]=s=>l.term=s),onSearch:t.search},null,8,["modelValue","onSearch"])]),e("div",D,[i(p,{class:"is-primary",href:t.route(r.baseRouteName+".create")},{default:a(()=>[i(u,{icon:c.icon.add},null,8,["icon"]),M]),_:1},8,["href"])])]),i(g,{records:r.records,"query-params":l.queryParams},{thead:a(()=>[Q]),default:a(()=>[(d(!0),m(O,null,P(r.records.data,s=>(d(),m("tr",{key:s.id},[e("th",null,_(s.id),1),e("td",null,_(s.name),1),e("td",null,[e("div",H,[i(p,{class:"is-ghost has-text-black",href:t.route(r.baseRouteName+".edit",s.id)},{default:a(()=>[i(u,{icon:c.icon.edit},null,8,["icon"])]),_:2},1032,["href"]),i(y,{class:"is-ghost has-text-black ml-1",icon:c.icon.remove,onClick:w(U=>f.deleteRecord(s),["prevent"])},null,8,["icon","onClick"])])])]))),128))]),_:1},8,["records","query-params"])])])}const _e=F(I,[["render",T]]);export{_e as default};
