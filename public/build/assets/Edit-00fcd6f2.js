import{M as z}from"./HasTab-77ca33c2.js";import{A as B}from"./AppLayout-40f8bbe7.js";import k from"./Layout-2acd62dc.js";import A from"./Navigation-0ffc1ad0.js";import{B as S}from"./Button-03e0d3fd.js";import{B as C}from"./ErrorNotifications-090d6193.js";import{B as N,a as L}from"./TabList-7a2ba8b0.js";import{a as M}from"./alert-fe3154bb.js";import{f,p as m,i as n,q as u,u as l,s as v,r as i,o as r,F as j,j as q,w as D,t as E}from"./vue-loading.min-a6a947f0.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./Breadcrumbs-f0ae94d4.js";import"./Link-359d994c.js";import"./utils-caa7a80b.js";import"./NavbarItem-766600c9.js";import"./HeaderLayout-b3843573.js";import"./HeaderLogo-6c3c0a08.js";import"./File-58357ba0.js";import"./Field-a8082082.js";import"./Field-e1691255.js";import"./InputFile-216a7277.js";import"./InputError-9b7084c8.js";import"./Image-c2b8efed.js";import"./HasModal-fa56130c.js";import"./LanguageTab-ce3e8bfb.js";import"./NavigationFormDuplicate-f84f4b98.js";import"./HasPageErrors-da5616c1.js";import"./Checkbox-8f917da5.js";import"./Input-137492c5.js";import"./Input-4c73d710.js";import"./Select-a178b677.js";import"./Select-19a91b6e.js";import"./ModalCard-06597c5e.js";import"./NavigationFormMenuItem-1addcf82.js";import"./NavigationMenu-1d34b455.js";import"./vuedraggable.umd-d7851836.js";import"./ThemeMenuItem-be410961.js";import"./Tag-8100534e.js";import"./icon-class-4ab3933f.js";import"./sweetalert2.all-7b2d1616.js";const O={name:"ThemeHeaderEdit",components:{Layout:k,Navigation:A,BizButton:S,BizErrorNotifications:C,BizTab:N,BizTabList:L},mixins:[z],provide(){return{instructions:this.instructions}},layout:B,props:{baseRouteName:{type:String,required:!0},headerMenus:{type:Object,default:()=>{}},instructions:{type:Object,default:()=>{}},logoUrl:{type:String,default:""},menu:{type:Object,required:!0},settings:{type:Object,required:!0},title:{type:String,default:"-"}},setup(){return{tabs:{layout:{title:"Layout"},navigation:{title:"Navigation"}}}},data(){return{activeTab:"layout"}},methods:{setActiveTab(t){if(t===this.activeTab)return!1;t=="layout"&&(this.$refs.navigation.isFormDirty()?this.confirmAlert(t):this.activeTab=t),t=="navigation"&&(this.$refs.layout.isFormDirty()?this.confirmAlert(t):this.activeTab=t)},onSave(t){t=="layout"&&this.$refs.layout.onSubmit(),t=="navigation"&&this.$refs.navigation.updateMenuItems()},confirmAlert(t){M().then(e=>{if(e.isDismissed)return!1;e.isConfirmed&&(this.activeTab=t)})}}},w={class:"box mb-6"},x=["onClick"],V=n("span",null,"Save",-1);function H(t,e,o,b,s,p){const d=i("biz-error-notifications"),_=i("biz-tab-list"),y=i("biz-button"),g=i("biz-tab"),h=i("layout"),T=i("navigation");return r(),f("div",null,[m(d,{errors:t.$page.props.errors},null,8,["errors"]),n("div",w,[m(g,null,{default:u(()=>[n("ul",null,[(r(!0),f(j,null,q(b.tabs,(c,a)=>(r(),l(_,{key:a,"is-active":t.isTabActive(a)},{default:u(()=>[n("a",{onClick:D(U=>p.setActiveTab(a),["prevent"])},E(c.title),9,x)]),_:2},1032,["is-active"]))),128))]),m(y,{type:"button",class:"is-primary ml-2",onClick:e[0]||(e[0]=c=>p.onSave(s.activeTab))},{default:u(()=>[V]),_:1})]),_:1}),s.activeTab=="layout"?(r(),l(h,{key:0,ref:"layout","logo-url":o.logoUrl,settings:o.settings,instructions:o.instructions},null,8,["logo-url","settings","instructions"])):v("",!0),s.activeTab=="navigation"?(r(),l(T,{key:1,ref:"navigation","header-menus":o.headerMenus,menu:o.menu},null,8,["header-menus","menu"])):v("",!0)])])}const Ct=F(O,[["render",H]]);export{Ct as default};
