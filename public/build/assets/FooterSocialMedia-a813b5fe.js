import{M as x}from"./HasModal-fa56130c.js";import{B as b}from"./Button-03e0d3fd.js";import C from"./FooterSocialMediaForm-344e9506.js";import{u as F}from"./utils-caa7a80b.js";import{c as y}from"./alert-fe3154bb.js";import{l as E,f as r,i as e,F as I,j as g,w as p,n as d,k as u,u as B,s as w,r as _,o as c,t as A,p as M,q as h,E as V,G as z}from"./vue-loading.min-a6a947f0.js";import{i as N}from"./icon-class-4ab3933f.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import"./HasPageErrors-da5616c1.js";import"./Checkbox-8f917da5.js";import"./Input-137492c5.js";import"./Field-a8082082.js";import"./Field-e1691255.js";import"./Input-4c73d710.js";import"./InputError-9b7084c8.js";import"./fontawesome-brand-classes-8350be4e.js";import"./ButtonIcon-b1d1d2b0.js";import"./Icon-6def3c13.js";import"./ModalCard-06597c5e.js";import"./Select-19a91b6e.js";import"./sweetalert2.all-7b2d1616.js";const O={name:"FooterSocialMedia",components:{BizButton:b,FooterSocialMediaForm:C},mixins:[x],props:{modelValue:{type:Array,required:!0}},setup(s,{emit:o}){return{socialMediaMenus:F(s,o)}},data(){return{icon:N,selectedIndex:null,selectedSocialMedia:{},socialMediaErrors:{},validationRoute:route("admin.api.theme.footer.social-media.validate")}},methods:{openFormModal(s=null,o=null){this.selectedSocialMedia=s??{},this.selectedIndex=o??null,this.socialMediaErrors={},this.isModalOpen=!0},addSocialMedia(s){const o=this;axios.post(o.validationRoute,s).then(()=>{o.socialMediaMenus.push(E.cloneDeep(s)),o.closeModal()}).catch(l=>{o.socialMediaErrors=l.response.data.errors})},updateSocialMedia(s){const o=this;axios.post(o.validationRoute,s).then(()=>{o.closeModal()}).catch(l=>{o.socialMediaErrors=l.response.data.errors})},deleteSocialMedia(s){y("Are you sure?").then(o=>{o.isConfirmed&&(this.socialMediaMenus.splice(s,1),this.isModalOpen=!1)})}}},v=s=>(V("data-v-5eeed7d8"),s=s(),z(),s),R=v(()=>e("div",{class:"columns"},[e("div",{class:"column"},[e("div",{class:"is-pulled-left"},[e("b",null,"Social Media"),e("br")])])],-1)),q={class:"columns"},U={class:"column"},j={class:"panel"},G=v(()=>e("div",{class:"panel-block p-4 has-text-weight-bold"}," Social Media Items ",-1)),H={class:"level",style:{width:"100%"}},L={class:"level-left"},T={class:"panel-icon"},W={class:"level-right"},J={class:"icon is-small"},K={class:"icon is-small"},P={class:"panel-icon has-text-link"};function Q(s,o,l,f,a,i){const m=_("biz-button"),S=_("footer-social-media-form");return c(),r("div",null,[R,e("div",q,[e("div",U,[e("nav",j,[G,(c(!0),r(I,null,g(f.socialMediaMenus,(t,n)=>(c(),r("div",{key:n,class:"panel-block p-4"},[e("div",H,[e("div",L,[e("span",T,[e("i",{class:d(t.icon),"aria-hidden":"true"},null,2)]),u(" "+A(t.url??"-"),1)]),e("div",W,[M(m,{class:"is-ghost has-text-black",onClick:p(k=>i.openFormModal(t,n),["prevent"])},{default:h(()=>[e("span",J,[e("i",{class:d(a.icon.edit)},null,2)])]),_:2},1032,["onClick"]),M(m,{class:"is-ghost has-text-black ml-1",onClick:p(k=>i.deleteSocialMedia(n),["prevent"])},{default:h(()=>[e("span",K,[e("i",{class:d(a.icon.remove)},null,2)])]),_:2},1032,["onClick"])])])]))),128)),e("a",{class:"panel-block p-4 has-text-link",onClick:o[0]||(o[0]=p(t=>i.openFormModal(),["prevent"]))},[e("span",P,[e("i",{class:d(a.icon.add),"aria-hidden":"true"},null,2)]),u(" Add social media ")])])])]),s.isModalOpen?(c(),B(S,{key:0,errors:a.socialMediaErrors,"social-media":a.selectedSocialMedia,"selected-index":a.selectedIndex,onAddSocialMedia:i.addSocialMedia,onClose:o[1]||(o[1]=t=>s.closeModal()),onUpdateSocialMedia:i.updateSocialMedia},null,8,["errors","social-media","selected-index","onAddSocialMedia","onUpdateSocialMedia"])):w("",!0)])}const ve=D(O,[["render",Q],["__scopeId","data-v-5eeed7d8"]]);export{ve as default};
