import{M as k}from"./HasLoader-a564cfe6.js";import{M as E}from"./HasPageErrors-da5616c1.js";import{A as V}from"./AppLayout-40f8bbe7.js";import{B as x}from"./Button-03e0d3fd.js";import{B as N}from"./ErrorNotifications-090d6193.js";import{B as q}from"./Input-4c73d710.js";import{B as L}from"./InputError-9b7084c8.js";import{s as M}from"./alert-fe3154bb.js";import{l as _,H as P,f as t,p as l,i as e,w as F,q as w,F as c,j as g,r as m,o as i,k as A,t as C,s as h}from"./vue-loading.min-a6a947f0.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import"./utils-caa7a80b.js";import"./Breadcrumbs-f0ae94d4.js";import"./Link-359d994c.js";import"./NavbarItem-766600c9.js";import"./sweetalert2.all-7b2d1616.js";const O={name:"SettingKey",components:{BizButton:x,BizErrorNotifications:N,BizInput:q,BizInputError:L},mixins:[k,E],layout:V,props:{baseRouteName:{type:String,required:!0},groups:{type:Array,required:!0},keys:{type:Object,required:!0},title:{type:String,required:!0}},setup(o){let r={};return _.forEach(o.groups,function(a){_.forEach(o.keys[a],function(s){r[s.key]=s.value})}),{form:P(r)}},data(){return{isProcessing:!1}},methods:{onSubmit(){const o=this;o.form.post(route(o.baseRouteName+".update"),{onStart:()=>{o.isProcessing=!0,o.onStartLoadingOverlay()},onSuccess:r=>{M(r.props.flash.message)},onFinish:()=>{o.isProcessing=!1,o.onEndLoadingOverlay(),setTimeout(()=>{location.reload()},200)}})}}},j={class:"box mb-6"},K={class:"field is-grouped is-grouped-right"},R={class:"control"},T=["disabled"],U={class:"column is-half"},D={class:"column"},G={class:"field"},J={class:"control"},Q={key:0},W={key:0};function X(o,r,a,s,b,d){const y=m("biz-error-notifications"),v=m("biz-button"),S=m("biz-input"),z=m("biz-input-error");return i(),t("div",null,[l(y,{errors:o.$page.props.errors},null,8,["errors"]),e("div",j,[e("form",{onSubmit:r[0]||(r[0]=F((...u)=>d.onSubmit&&d.onSubmit(...u),["prevent"]))},[e("div",K,[e("div",R,[l(v,{class:"is-link"},{default:w(()=>[A(" Save ")]),_:1})])]),e("fieldset",{disabled:b.isProcessing},[(i(!0),t(c,null,g(a.groups,(u,p)=>(i(),t(c,{key:p},[(i(!0),t(c,null,g(a.keys[u],n=>{var f;return i(),t("div",{key:n.key,class:"columns"},[e("div",U,[e("h3",null,C(n.display_name),1)]),e("div",D,[e("div",G,[e("p",J,[l(S,{modelValue:s.form[n.key],"onUpdate:modelValue":B=>s.form[n.key]=B},null,8,["modelValue","onUpdate:modelValue"])])]),(f=s.form.errors)!=null&&f.default&&s.form.errors.default[n.key]?(i(),t("p",Q,[l(z,{message:o.error(n.key)},null,8,["message"])])):h("",!0)])])}),128)),p!=a.groups.length-1?(i(),t("hr",W)):h("",!0)],64))),128))],8,T)],32)])])}const co=H(O,[["render",X]]);export{co as default};
