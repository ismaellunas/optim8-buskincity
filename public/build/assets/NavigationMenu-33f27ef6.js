import{D as g}from"./vuedraggable.umd-12c8e910.js";import{T as _}from"./ThemeMenuItem-ff92671d.js";import{i as I}from"./icon-class-4ab3933f.js";import{I as w,u as k,q as o,n as d,r as u,o as r,i as l,p as v,x as y,f as C,k as M,w as b,s as x}from"./vue-loading.min-aa20e13d.js";import{c as N}from"./alert-e0e75cb7.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import"./Button-b3acaac2.js";import"./Tag-083af5c2.js";import"./sweetalert2.all-ebd52f41.js";const R={name:"NavigationMenu",components:{Draggable:g,ThemeMenuItem:_},props:{isChild:{type:Boolean,default:!0},menuItems:{type:Array,default:()=>{}},localeOptions:{type:Array,default:()=>{}},selectedLocale:{type:String,default:"en"},segmentIndex:{type:Number,required:!0}},emits:["duplicate-menu-item","edit-row","menu-items","open-form-modal","update-last-data-menu-items"],setup(){return{baseRouteName:w().props.value.baseRouteName??null}},data(){return{icon:I}},computed:{panelClasses(){return{"child-panel":this.isChild,panel:!0,"pl-4":!0}}},methods:{editRow(e){this.$emit("edit-row",e)},deleteRow(e){const a=this,t=this.menuItems;let n="";t[e].children.length>0&&(n="A nested menu will deleted too."),N("Are you sure?",n).then(s=>{s.isConfirmed&&(a.$emit("menu-items",t.splice(e,1)),a.updateLastDataMenuItems())})},duplicateMenuItem(e){this.$emit("duplicate-menu-item",e,this.segmentIndex)},updateLastDataMenuItems(){this.$emit("update-last-data-menu-items")}}},A={class:"panel-icon handle-menu has-text-link"};function B(e,a,t,n,s,i){const c=u("theme-menu-item"),p=u("draggable");return r(),k(p,{class:d(["has-background-light",i.panelClasses]),handle:".handle-menu","item-key":"id",tag:"nav",animation:300,group:{name:"g1"},list:t.menuItems},{item:o(({element:m,index:h})=>[l("div",null,[v(c,{"is-child":t.isChild,"locale-options":t.localeOptions,"menu-item-index":h,"menu-item":m,"selected-locale":t.selectedLocale,onDeleteRow:i.deleteRow,onDuplicateMenuItem:i.duplicateMenuItem,onEditRow:a[0]||(a[0]=f=>e.$emit("edit-row",f))},null,8,["is-child","locale-options","menu-item-index","menu-item","selected-locale","onDeleteRow","onDuplicateMenuItem"])])]),header:o(()=>[y(e.$slots,"header",{},void 0,!0)]),footer:o(()=>[t.isChild?x("",!0):(r(),C("a",{key:0,class:"panel-block p-4 has-background-white border-top has-text-link",onClick:a[1]||(a[1]=b(m=>e.$emit("open-form-modal",t.segmentIndex),["prevent"]))},[l("span",A,[l("i",{class:d(s.icon.add),"aria-hidden":"true"},null,2)]),M(" Add new menu item ")]))]),_:3},8,["class","list"])}const P=D(R,[["render",B],["__scopeId","data-v-719d73e7"]]);export{P as default};
