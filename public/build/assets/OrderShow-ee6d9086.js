import{M}from"./HasLoader-a564cfe6.js";import{M as C}from"./HasModal-fa56130c.js";import{A as V}from"./AppLayout-25ccdbdb.js";import{B as S}from"./Button-b3acaac2.js";import{B as w}from"./ButtonIcon-05c24ca4.js";import{B as x}from"./ButtonLink-71ebb617.js";import{B as N}from"./GmapMarker-d39ec1e7.js";import{B as E}from"./Icon-150b61ef.js";import{B as O}from"./Tag-083af5c2.js";import P from"./TableEventDetail-3ec75548.js";import q from"./ModalCancelEventConfirmation-a890d76d.js";import{i as L}from"./icon-class-4ab3933f.js";import{o as T,s as A}from"./alert-e0e75cb7.js";import{H as I,f as d,i,t as p,p as a,q as l,s as u,u as R,r as s,o as m,k as f}from"./vue-loading.min-aa20e13d.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import"./Breadcrumbs-0b4348b1.js";import"./Link-2bcf0cab.js";import"./utils-79a9c8b1.js";import"./NavbarItem-7e983d41.js";import"./map-049204a6.js";import"./Table-2efbef14.js";import"./booking-icon-853771cf.js";import"./Textarea-18e9b25c.js";import"./Field-fbae01a6.js";import"./Field-c2e062a9.js";import"./InputError-bc1e9f36.js";import"./Textarea-3c29db5c.js";import"./ModalCard-42b1747b.js";import"./sweetalert2.all-ebd52f41.js";const j={components:{BizButton:S,BizButtonIcon:w,BizButtonLink:x,BizGmapMarker:N,BizIcon:E,BizTag:O,EventDetailTable:P,ModalCancelEventConfirmation:q},mixins:[M,C],layout:V,props:{can:{type:Object,required:!0},baseRouteName:{type:String,required:!0},order:{type:Object,required:!0},checkInTime:{type:[String,null],required:!0},googleApiKey:{type:String,default:null}},setup(e){var o,n,_,c;return{form:I({message:null}),icon:L,mapPosition:{latitude:(n=(o=e.order)==null?void 0:o.location)==null?void 0:n.latitude,longitude:(c=(_=e.order)==null?void 0:_.location)==null?void 0:c.longitude}}},methods:{cancel(){const e=this;e.form.post(route(e.baseRouteName+".cancel",e.order.id),{onStart:()=>e.onStartLoadingOverlay(),onFinish:()=>e.onEndLoadingOverlay(),onError:t=>{T()},onSuccess:t=>{e.closeModal(),A(t.props.flash.message)}})},onShownModal(){this.form.reset()}}},D={class:"box"},F={class:"columns is-multiline"},K={class:"column is-7"},U={class:"title is-2 mt-5 mb-2"},G={class:"is-size-7"},Y={class:"column is-5"},J={class:"columns is-multiline is-centered mt-5"},Q={key:0,class:"column is-10"},W={class:"card"},X={key:1,class:"column is-8"},Z=i("span",null,"Reschedule",-1),$={key:2,class:"column is-8"},oo=i("span",null,"Cancel",-1);function eo(e,t,o,n,_,c){const b=s("biz-tag"),h=s("event-detail-table"),v=s("biz-gmap-marker"),g=s("biz-icon"),k=s("biz-button-link"),y=s("biz-button-icon"),z=s("biz-button"),B=s("modal-cancel-event-confirmation");return m(),d("div",D,[i("div",F,[i("div",K,[i("h1",U,p(o.order.product.name),1),i("p",G,[a(b,{class:"is-medium"},{default:l(()=>[f(p(o.order.event.status),1)]),_:1})]),a(h,{class:"mt-3","check-in-time":o.checkInTime,event:o.order.event,location:o.order.location,product:o.order.product,"user-name":o.order.user_full_name},null,8,["check-in-time","event","location","product","user-name"])]),i("div",Y,[i("div",J,[n.mapPosition.latitude&&n.mapPosition.latitude?(m(),d("div",Q,[i("div",W,[a(v,{modelValue:n.mapPosition,"onUpdate:modelValue":t[0]||(t[0]=r=>n.mapPosition=r),"api-key":o.googleApiKey,"init-position":n.mapPosition,"map-style":["width: 100%","height: 378px"],"enable-search-box":!1,"enable-marker-move":!1},null,8,["modelValue","api-key","init-position"])])])):u("",!0),o.can.reschedule?(m(),d("div",X,[a(k,{class:"is-fullwidth is-warning",href:e.route(o.baseRouteName+".reschedule",o.order.id)},{default:l(()=>[a(g,{icon:n.icon.recycle},null,8,["icon"]),Z]),_:1},8,["href"])])):u("",!0),o.can.cancel?(m(),d("div",$,[a(y,{class:"is-fullwidth is-danger",type:"button",icon:n.icon.remove,onClick:e.openModal},{default:l(()=>[oo]),_:1},8,["icon","onClick"])])):u("",!0)])])]),e.isModalOpen?(m(),R(B,{key:0,modelValue:n.form.message,"onUpdate:modelValue":t[2]||(t[2]=r=>n.form.message=r),title:"Cancel Event",event:o.order.event,"product-name":o.order.product.name,onClose:t[3]||(t[3]=r=>e.closeModal())},{actions:l(()=>[a(z,{class:"is-danger ml-1",type:"button",onClick:t[1]||(t[1]=r=>c.cancel())},{default:l(()=>[f(" Yes for sure ")]),_:1})]),_:1},8,["modelValue","event","product-name"])):u("",!0)])}const Oo=H(j,[["render",eo]]);export{Oo as default};
