import{M as h}from"./HasModal-fa56130c.js";import{B as g}from"./ButtonDownload-ab8e1361.js";import{B}from"./ButtonIcon-05c24ca4.js";import{B as C}from"./Image-52e0dacd.js";import{r as c,o as s,f as u,i as n,u as m,n as o,t as E,s as f,x as v,F as z,j as D,p as y,q as w,D as I,m as x,y as M}from"./vue-loading.min-aa20e13d.js";import{_}from"./_plugin-vue_export-helper-c27b6911.js";import{B as S}from"./Modal-247c5739.js";const P={computed:{isImage(){var i,t;return((i=this.medium)==null?void 0:i.is_image)||((t=this.medium)==null?void 0:t.file)&&this.medium.file.type.startsWith("image")},thumbnailIcon(){if(this.medium.file_type==="video")return"far fa-file-video";if(this.medium.extension){if(this.medium.extension==="pdf")return"far fa-file-pdf";if(this.medium.extension.startsWith("doc"))return"far fa-file-word";if(this.medium.extension.startsWith("ppt"))return"far fa-file-powerpoint";if(this.medium.extension.startsWith("xls"))return"far fa-file-excel"}return"far fa-file-alt"}}},O={name:"MediaGalleryItem",components:{BizButtonDownload:g,BizButtonIcon:B,BizImage:C},mixins:[P],props:{isDeleteEnabled:{type:Boolean,default:!0},isDownloadEnabled:{type:Boolean,default:!0},isEditEnabled:{type:Boolean,default:!0},isPreviewEnabled:{type:Boolean,default:!0},medium:{type:Object,default:()=>{}}},emits:["on-delete-clicked","on-edit-clicked","on-preview-clicked"],data(){return{actionClass:"card-footer-item p-2 is-borderless is-shadowless is-inverted"}}},A={class:"card card-equal-height"},G={class:"card-image px-2 pt-2 has-text-centered"},N={key:1,class:"icon is-large"},W={class:"fa-stack fa-lg"},H={class:"card-content p-2"},V={class:"content",style:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},j={class:"card-footer"};function q(i,t,e,k,a,b){const p=c("biz-image"),d=c("biz-button-icon"),r=c("biz-button-download");return s(),u("div",A,[n("div",G,[i.isImage?(s(),m(p,{key:0,alt:e.medium.display_file_name,src:e.medium.thumbnail_url},null,8,["alt","src"])):(s(),u("span",N,[n("span",W,[n("i",{class:o([i.thumbnailIcon,"fa-5x"])},null,2)])]))]),n("div",H,[n("div",V,[n("p",null,E(e.medium.display_file_name),1)])]),n("footer",j,[i.isImage?(s(),m(d,{key:0,icon:"fas fa-expand",title:"Preview",type:"button",class:o([a.actionClass,"is-info"]),onClick:t[0]||(t[0]=l=>i.$emit("on-preview-clicked",e.medium))},null,8,["class"])):f("",!0),e.isEditEnabled?(s(),m(d,{key:1,icon:"fas fa-pen",title:"Edit",type:"button",class:o([a.actionClass,"is-primary"]),onClick:t[1]||(t[1]=l=>i.$emit("on-edit-clicked",e.medium))},null,8,["class"])):f("",!0),e.isDeleteEnabled?(s(),m(d,{key:2,icon:"far fa-trash-alt",title:"Delete",type:"button",class:o([a.actionClass,"is-danger"]),onClick:t[2]||(t[2]=l=>i.$emit("on-delete-clicked",e.medium))},null,8,["class"])):f("",!0),e.isDownloadEnabled?(s(),m(r,{key:3,title:"Download",type:"button",class:o([a.actionClass,"is-link"]),url:e.medium.file_url},null,8,["class","url"])):f("",!0),v(i.$slots,"itemActions",{mediumItem:e.medium})])])}const F=_(O,[["render",q]]),L={name:"MediaGallery",components:{BizMediaGalleryItem:F,BizModal:S},mixins:[h],props:{columnClass:{type:Array,default:()=>["column","is-3"]},isDeleteEnabled:{type:Boolean,default:!0},isDownloadEnabled:{type:Boolean,default:!0},isEditEnabled:{type:Boolean,default:!0},isPreviewEnabled:{type:Boolean,default:!0},isSelectEnabled:{type:Boolean,default:!1},isScrolled:{type:Boolean,default:!1},maxHeight:{type:Number,default:700},media:{type:Array,default:()=>[]}},emits:["on-delete-clicked","on-edit-clicked","on-select-clicked"],data(){return{previewImageSrc:null}},computed:{scrollClass(){return{"max-height":this.maxHeight.toString()+"px","overflow-y":"scroll","overflow-x":"hidden"}}},methods:{onPreviewClicked(i){this.previewImageSrc=i.file_url,this.openModal()}}},J={class:"image"},K=["src"];function Q(i,t,e,k,a,b){const p=c("biz-media-gallery-item"),d=c("biz-modal");return s(),u("div",null,[n("div",{class:"columns is-multiline",style:I(e.isScrolled?b.scrollClass:{})},[(s(!0),u(z,null,D(e.media,r=>(s(),u("div",{key:r.id,class:o(e.columnClass)},[y(p,{medium:r,"is-delete-enabled":e.isDeleteEnabled,"is-download-enabled":e.isDownloadEnabled,"is-edit-enabled":e.isEditEnabled,"is-preview-enabled":e.isPreviewEnabled,"is-select-enabled":e.isSelectEnabled,onOnDeleteClicked:t[0]||(t[0]=l=>i.$emit("on-delete-clicked",l)),onOnEditClicked:t[1]||(t[1]=l=>i.$emit("on-edit-clicked",l)),onOnSelectClicked:t[2]||(t[2]=l=>i.$emit("on-select-clicked",l)),onOnPreviewClicked:b.onPreviewClicked},{itemActions:w(({mediumItem:l})=>[v(i.$slots,"itemActions",{mediumItem:l})]),_:2},1032,["medium","is-delete-enabled","is-download-enabled","is-edit-enabled","is-preview-enabled","is-select-enabled","onOnPreviewClicked"])],2))),128))],4),x(y(d,{onClose:t[3]||(t[3]=r=>i.closeModal())},{default:w(()=>[n("p",J,[n("img",{src:a.previewImageSrc,alt:"preview-image"},null,8,K)])]),_:1},512),[[M,i.isModalOpen]])])}const ee=_(L,[["render",Q]]);export{ee as B,P as M};
