import{D as w}from"./vuedraggable.umd-12c8e910.js";import{T as M}from"./ThemeMenuItem-ff92671d.js";import{i as v}from"./icon-class-4ab3933f.js";import{I as D,u as d,q as c,n as r,r as s,o as m,i as u,p as k,s as p,f as C,k as y,w as b}from"./vue-loading.min-aa20e13d.js";import{c as R}from"./alert-e0e75cb7.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import"./Button-b3acaac2.js";import"./Tag-083af5c2.js";import"./sweetalert2.all-ebd52f41.js";const L={name:"NavigationMenu",components:{Draggable:w,ThemeMenuItem:M},props:{isChild:{type:Boolean,default:!0},menuItems:{type:Array,default:()=>{}},localeOptions:{type:Array,default:()=>{}},selectedLocale:{type:String,default:"en"}},emits:["duplicate-menu-item","edit-row","menu-items","open-form-modal","update-last-data-menu-items"],setup(){return{baseRouteName:D().props.value.baseRouteName??null}},data(){return{icon:v}},computed:{panelClasses(){return{"child-panel":this.isChild,panel:!0,"pl-4":!0}}},methods:{editRow(t){this.$emit("edit-row",t)},deleteRow(t){const a=this,e=this.menuItems;let i="";e[t].children.length>0&&(i="A nested menu will deleted too."),R("Are you sure?",i).then(o=>{o.isConfirmed&&(a.$emit("menu-items",e.splice(t,1)),a.updateLastDataMenuItems())})},duplicateMenuItem(t){this.$emit("duplicate-menu-item",t)},updateLastDataMenuItems(){this.$emit("update-last-data-menu-items")}}},x={class:"panel-icon handle-menu has-text-link"};function A(t,a,e,i,o,n){const h=s("theme-menu-item"),f=s("navigation-menu",!0),_=s("draggable");return m(),d(_,{class:r(["has-background-light",n.panelClasses]),handle:".handle-menu","item-key":"id",tag:"nav",animation:300,group:{name:"g1"},list:e.menuItems},{item:c(({element:l,index:g})=>[u("div",null,[k(h,{"is-child":e.isChild,"locale-options":e.localeOptions,"menu-item-index":g,"menu-item":l,"selected-locale":e.selectedLocale,onDeleteRow:n.deleteRow,onDuplicateMenuItem:n.duplicateMenuItem,onEditRow:a[0]||(a[0]=I=>t.$emit("edit-row",I))},null,8,["is-child","locale-options","menu-item-index","menu-item","selected-locale","onDeleteRow","onDuplicateMenuItem"]),e.isChild?p("",!0):(m(),d(f,{key:0,"menu-items":l.children,"locale-options":e.localeOptions,"selected-locale":e.selectedLocale,onDuplicateMenuItem:n.duplicateMenuItem,onEditRow:n.editRow,onUpdateLastDataMenuItems:n.updateLastDataMenuItems},null,8,["menu-items","locale-options","selected-locale","onDuplicateMenuItem","onEditRow","onUpdateLastDataMenuItems"]))])]),footer:c(()=>[e.isChild?p("",!0):(m(),C("a",{key:0,class:"panel-block p-4 has-background-white border-top has-text-link",onClick:a[1]||(a[1]=b(l=>t.$emit("open-form-modal"),["prevent"]))},[u("span",x,[u("i",{class:r(o.icon.add),"aria-hidden":"true"},null,2)]),y(" Add new menu item ")]))]),_:1},8,["class","list"])}const S=N(L,[["render",A],["__scopeId","data-v-72fcadbd"]]);export{S as default};
