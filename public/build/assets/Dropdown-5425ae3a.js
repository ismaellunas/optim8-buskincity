import{u as c,q as f,n as a,K as v,o as r,x as n,B as g,r as y,f as u,i as l,D as w,m as B,y as k}from"./vue-loading.min-aa20e13d.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";import{B as _}from"./Button-b3acaac2.js";import{b as I}from"./utils-79a9c8b1.js";const A={name:"BizDropdownItem",inject:["selectItem"],props:{tag:{type:String,default:"div"},isActive:{type:Boolean,default:!1}}};function b(e,t,s,d,m,i){return r(),c(v(s.tag),{class:a({"dropdown-item":!0,"is-active":s.isActive}),onClick:i.selectItem},{default:f(()=>[n(e.$slots,"default")]),_:3},8,["class","onClick"])}const L=h(A,[["render",b]]),C={name:"BizDropdown",components:{BizButton:_},provide(){return{selectItem:this.selectItem}},props:{active:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},isHoverable:{type:Boolean,default:!1},menuId:{type:String,default:null},styleButton:{type:String,default:""},classButton:{type:[Array,Object,String],default:""},isTriggerButton:{type:Boolean,default:!0},isFullwidth:{type:Boolean,default:!1}},emits:["on-click"],setup(e){return{isActive:g(e.active)}},computed:{rootClasses(){return{"is-active":this.isActive,"is-hoverable":this.isHoverable,"is-fullwidth":this.isFullwidth}},uniqueMenuId(){return this.menuId??I()}},created(){typeof window<"u"&&(document.addEventListener("click",this.clickedOutside),document.addEventListener("keyup",this.keyPress))},beforeUnmount(){typeof window<"u"&&(document.removeEventListener("click",this.clickedOutside),document.removeEventListener("keyup",this.keyPress))},methods:{onHover(){this.isHoverable&&(this.isActive=!0)},selectItem(){this.isActive=!this.closeOnClick},toggle(){this.isActive=!this.isActive,this.$emit("on-click")},isInWhiteList(e){if(e===this.$refs.dropdownMenu||e===this.$refs.trigger)return!0;if(this.$refs.dropdownMenu!==void 0&&this.$refs.dropdownMenu!==null){const t=this.$refs.dropdownMenu.querySelectorAll("*");for(const s of t)if(e===s)return!0}if(this.$refs.trigger!==void 0&&this.$refs.trigger!==null){const t=this.$refs.trigger.querySelectorAll("*");for(const s of t)if(e===s)return!0}return!1},clickedOutside(e){const t=e.target;this.isInWhiteList(t)||(this.isActive=!1)},keyPress({key:e}){this.isActive&&(e==="Escape"||e==="Esc")&&(this.isActive=!1)}}},M=["aria-controls"],z=["id"],S={class:"dropdown-content"};function E(e,t,s,d,m,i){const p=y("biz-button");return r(),u("div",{ref:"dropdown",class:a(["dropdown",i.rootClasses])},[l("div",{ref:"trigger",class:"dropdown-trigger",onClick:t[0]||(t[0]=(...o)=>i.toggle&&i.toggle(...o)),onMouseenter:t[1]||(t[1]=(...o)=>i.onHover&&i.onHover(...o))},[s.isTriggerButton?(r(),c(p,{key:0,"aria-controls":i.uniqueMenuId,class:a([s.classButton,"button"]),style:w(s.styleButton),"aria-haspopup":"true",type:"button"},{default:f(()=>[n(e.$slots,"trigger")]),_:3},8,["aria-controls","class","style"])):(r(),u("a",{key:1,"aria-haspopup":"true","aria-controls":i.uniqueMenuId},[n(e.$slots,"trigger")],8,M))],544),B(l("div",{id:i.uniqueMenuId,ref:"dropdownMenu",class:"dropdown-menu",role:"menu"},[l("div",S,[n(e.$slots,"default")])],8,z),[[k,d.isActive||s.isHoverable]])],2)}const O=h(C,[["render",E]]);export{O as B,L as a};
