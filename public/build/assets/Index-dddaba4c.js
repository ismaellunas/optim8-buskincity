import{M as N}from"./FilterDataHandle-94157290.js";import{A as q}from"./AppLayout-40f8bbe7.js";import{B as C}from"./ButtonIcon-b1d1d2b0.js";import{B as R}from"./ButtonLink-abb08373.js";import{B as L}from"./Search-4389f740.js";import{B as O}from"./Icon-6def3c13.js";import{B as w}from"./TableIndex-c25c722c.js";import{a as I,e as P,r as S}from"./icon-class-4ab3933f.js";import{c as V}from"./alert-fe3154bb.js";import{I as v,B as u,l as A,f as s,i as t,p as c,u as _,q as m,s as p,r as l,o as n,F as f,j as h,t as b,w as j}from"./vue-loading.min-a6a947f0.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import"./HasLoader-a564cfe6.js";import"./Breadcrumbs-f0ae94d4.js";import"./Link-359d994c.js";import"./utils-caa7a80b.js";import"./NavbarItem-766600c9.js";import"./Button-03e0d3fd.js";import"./Field-e1691255.js";import"./Input-4c73d710.js";import"./Pagination-c4350b04.js";import"./Table-6b0ddb68.js";import"./TableInfo-6db2c6af.js";import"./sweetalert2.all-7b2d1616.js";const F={name:"CategoryIndex",components:{BizButtonIcon:C,BizButtonLink:R,BizFilterSearch:L,BizIcon:O,BizTableIndex:w},mixins:[N],layout:q,props:{baseRouteName:{type:String,required:!0},can:{type:Object,required:!0},pageQueryParams:{type:Object,default:()=>{}},records:{type:Object,required:!0},title:{type:String,required:!0}},setup(o){var r;return{defaultLocale:v().props.value.defaultLanguage,localeOptions:v().props.value.languageOptions,queryParams:u(A.merge({},o.pageQueryParams)),term:u(((r=o.pageQueryParams)==null?void 0:r.term)??null),loader:u(null),iconAdd:I,iconEdit:P,iconRemove:S}},methods:{deleteRow(o){const r=this;V().then(e=>{e.isConfirmed&&r.$inertia.delete(route(r.baseRouteName+".destroy",o.id))})},getNameByLocale(o,r){const e=o.translations.find(a=>a.locale===r);return e?e.name:""}}},D={class:"box"},M={class:"columns"},Q={class:"column is-4"},H={class:"column is-4 is-offset-4 has-text-right"},T=t("span",null,"Create New",-1),U=t("th",null,"#",-1),G=t("th",null,[t("div",{class:"level-right"}," Actions ")],-1),J={class:"level-right"};function K(o,r,e,a,W,y){const k=l("biz-filter-search"),g=l("biz-icon"),B=l("biz-button-link"),z=l("biz-button-icon"),x=l("biz-table-index");return n(),s("div",null,[t("div",D,[t("div",M,[t("div",Q,[c(k,{modelValue:a.term,"onUpdate:modelValue":r[0]||(r[0]=i=>a.term=i),onSearch:o.search},null,8,["modelValue","onSearch"])]),t("div",H,[e.can.add?(n(),_(B,{key:0,class:"is-primary",href:o.route(e.baseRouteName+".create")},{default:m(()=>[c(g,{icon:a.iconAdd},null,8,["icon"]),T]),_:1},8,["href"])):p("",!0)])]),c(x,{records:e.records,"query-params":a.queryParams},{thead:m(()=>[t("tr",null,[U,(n(!0),s(f,null,h(a.localeOptions,i=>(n(),s("th",{key:i.id},b(i.name),1))),128)),G])]),default:m(()=>[(n(!0),s(f,null,h(e.records.data,i=>(n(),s("tr",{key:i.id},[t("th",null,b(i.id),1),(n(!0),s(f,null,h(a.localeOptions,d=>(n(),s("td",{key:d.id},b(y.getNameByLocale(i,d.id)),1))),128)),t("td",null,[t("div",J,[e.can.edit?(n(),_(B,{key:0,class:"is-ghost has-text-black",href:o.route(e.baseRouteName+".edit",i.id)},{default:m(()=>[c(g,{icon:a.iconEdit},null,8,["icon"])]),_:2},1032,["href"])):p("",!0),e.can.delete?(n(),_(z,{key:1,class:"is-ghost has-text-black ml-1",icon:a.iconRemove,onClick:j(d=>y.deleteRow(i),["prevent"])},null,8,["icon","onClick"])):p("",!0)])])]))),128))]),_:1},8,["records","query-params"])])])}const ge=E(F,[["render",K]]);export{ge as default};
