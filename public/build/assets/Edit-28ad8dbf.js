import{M as z}from"./HasTab-77ca33c2.js";import{A as B}from"./AppLayout-25ccdbdb.js";import k from"./Layout-d39b0752.js";import A from"./Navigation-752f320c.js";import{B as S}from"./Button-b3acaac2.js";import{B as C}from"./ErrorNotifications-805a6bc2.js";import{B as N,a as L}from"./TabList-c5e61712.js";import{a as M}from"./alert-e0e75cb7.js";import{f,p as m,i as n,q as u,u as l,s as v,r as i,o as r,F as j,j as q,w as D,t as E}from"./vue-loading.min-aa20e13d.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./Breadcrumbs-0b4348b1.js";import"./Link-2bcf0cab.js";import"./utils-79a9c8b1.js";import"./NavbarItem-7e983d41.js";import"./HeaderLayout-de58b0c7.js";import"./HeaderLogo-7aae06b4.js";import"./File-df13363c.js";import"./Field-fbae01a6.js";import"./Field-c2e062a9.js";import"./InputFile-1187b7e3.js";import"./InputError-bc1e9f36.js";import"./Image-52e0dacd.js";import"./HasModal-fa56130c.js";import"./LanguageTab-090d99fd.js";import"./NavigationFormDuplicate-37f7b32e.js";import"./HasPageErrors-4d447fdf.js";import"./Checkbox-8d9a17c8.js";import"./Input-50a73630.js";import"./Input-2fb71e37.js";import"./Select-c82d82bb.js";import"./Select-9fda6861.js";import"./ModalCard-42b1747b.js";import"./NavigationFormMenuItem-99e302bc.js";import"./NavigationMenu-823e7054.js";import"./vuedraggable.umd-12c8e910.js";import"./ThemeMenuItem-ff92671d.js";import"./Tag-083af5c2.js";import"./icon-class-4ab3933f.js";import"./sweetalert2.all-ebd52f41.js";const O={name:"ThemeHeaderEdit",components:{Layout:k,Navigation:A,BizButton:S,BizErrorNotifications:C,BizTab:N,BizTabList:L},mixins:[z],provide(){return{instructions:this.instructions}},layout:B,props:{baseRouteName:{type:String,required:!0},headerMenus:{type:Object,default:()=>{}},instructions:{type:Object,default:()=>{}},logoUrl:{type:String,default:""},menu:{type:Object,required:!0},settings:{type:Object,required:!0},title:{type:String,default:"-"}},setup(){return{tabs:{layout:{title:"Layout"},navigation:{title:"Navigation"}}}},data(){return{activeTab:"layout"}},methods:{setActiveTab(t){if(t===this.activeTab)return!1;t=="layout"&&(this.$refs.navigation.isFormDirty()?this.confirmAlert(t):this.activeTab=t),t=="navigation"&&(this.$refs.layout.isFormDirty()?this.confirmAlert(t):this.activeTab=t)},onSave(t){t=="layout"&&this.$refs.layout.onSubmit(),t=="navigation"&&this.$refs.navigation.updateMenuItems()},confirmAlert(t){M().then(e=>{if(e.isDismissed)return!1;e.isConfirmed&&(this.activeTab=t)})}}},w={class:"box mb-6"},x=["onClick"],V=n("span",null,"Save",-1);function H(t,e,o,b,s,p){const d=i("biz-error-notifications"),_=i("biz-tab-list"),y=i("biz-button"),g=i("biz-tab"),h=i("layout"),T=i("navigation");return r(),f("div",null,[m(d,{errors:t.$page.props.errors},null,8,["errors"]),n("div",w,[m(g,null,{default:u(()=>[n("ul",null,[(r(!0),f(j,null,q(b.tabs,(c,a)=>(r(),l(_,{key:a,"is-active":t.isTabActive(a)},{default:u(()=>[n("a",{onClick:D(U=>p.setActiveTab(a),["prevent"])},E(c.title),9,x)]),_:2},1032,["is-active"]))),128))]),m(y,{type:"button",class:"is-primary ml-2",onClick:e[0]||(e[0]=c=>p.onSave(s.activeTab))},{default:u(()=>[V]),_:1})]),_:1}),s.activeTab=="layout"?(r(),l(h,{key:0,ref:"layout","logo-url":o.logoUrl,settings:o.settings,instructions:o.instructions},null,8,["logo-url","settings","instructions"])):v("",!0),s.activeTab=="navigation"?(r(),l(T,{key:1,ref:"navigation","header-menus":o.headerMenus,menu:o.menu},null,8,["header-menus","menu"])):v("",!0)])])}const Ct=F(O,[["render",H]]);export{Ct as default};
