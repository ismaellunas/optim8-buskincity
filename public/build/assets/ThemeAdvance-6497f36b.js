import{M as z}from"./HasPageErrors-da5616c1.js";import{A as F}from"./AppLayout-40f8bbe7.js";import{B as S}from"./Button-03e0d3fd.js";import{B as L}from"./ErrorNotifications-090d6193.js";import{B as O}from"./File-58357ba0.js";import{B as w}from"./Select-a178b677.js";import{B as x}from"./Image-c2b8efed.js";import{B as T}from"./InputError-9b7084c8.js";import{B as E}from"./Textarea-fb59ae31.js";import{B as A}from"./ImageSquare-b4e4050d.js";import{l as d,H as D,I as N,ah as j,f as c,p as m,i as e,w as Q,q as y,u as H,s as q,F as f,j as v,r as u,o as a,k as I,t as h,E as M,G as R}from"./vue-loading.min-a6a947f0.js";import{s as G}from"./alert-fe3154bb.js";import{_ as J}from"./_plugin-vue_export-helper-c27b6911.js";import"./utils-caa7a80b.js";import"./Breadcrumbs-f0ae94d4.js";import"./Link-359d994c.js";import"./NavbarItem-766600c9.js";import"./Field-a8082082.js";import"./Field-e1691255.js";import"./InputFile-216a7277.js";import"./Select-19a91b6e.js";import"./ButtonIcon-b1d1d2b0.js";import"./Icon-6def3c13.js";import"./ModalCard-06597c5e.js";import"./cropper-72988d76.js";import"./sweetalert2.all-7b2d1616.js";const K={name:"ThemeOptionAdvance",components:{BizButton:S,BizErrorNotifications:L,BizFormFile:O,BizFormImageSquare:A,BizFormSelect:w,BizImage:x,BizInputError:T,BizTextarea:E},mixins:[z],layout:F,props:{additionalCodes:{type:Object,required:!0},baseRouteName:{type:String,required:!0},errors:{type:Object,default:()=>{}},faviconUrl:{type:String,default:""},homePageId:{type:[Number,String,null],default:null},instructions:{type:Object,default:()=>{}},pageOptions:{type:Object,default:()=>{}},qrCodePublicPageIsDisplayed:{type:Boolean,required:!0},qrCodePublicPageLogo:{type:String,required:!0},title:{type:String,required:!0},trackingCodes:{type:Object,required:!0}},setup(o){const l=d.mapValues(o.additionalCodes,n=>n.value),p=d.mapValues(o.trackingCodes,n=>n.value),r=d.mapValues(o.qrCodePublicPages,n=>n.value),_={qrcode_public_page_is_displayed:o.qrCodePublicPageIsDisplayed,qrcode_public_page_logo:null},i={home_page:o.homePageId},b={favicon:null,is_favicon_deleted:!1};return{form:D(d.assign(l,b,i,_,r,p)),sortedPageOptions:d.sortBy(N().props.value.pageOptions,[n=>n.value])}},data(){return{isProcessing:!1,loader:null,qrCodeLogoUrl:this.qrCodePublicPageLogo,faviconImageUrl:this.faviconUrl,imageTypes:j}},computed:{hasQrCodeLogo(){return!d.isEmpty(this.qrCodeLogoUrl)},hasFavicon(){return!d.isEmpty(this.faviconImageUrl)},sortedAdditionalCodes(){return d.sortBy(this.additionalCodes,["order"])},sortedTrackingCodes(){return d.sortBy(this.trackingCodes,["order"])}},methods:{onSubmit(){const o=this;this.form.post(route(this.baseRouteName+".update"),{preserveScroll:!1,onStart:()=>{o.loader=o.$loading.show(),o.isProcessing=!0},onSuccess:l=>{G(l.props.flash.message),o.form.isDirty=!1,o.form.qrcode_public_page_logo=null,o.qrCodeLogoUrl=o.qrCodePublicPageLogo,o.form.favicon=null,o.faviconImageUrl=o.faviconUrl},onFinish:()=>{o.loader.hide(),o.isProcessing=!1,location.reload()}})},onFilePickedQrCode(o){this.qrCodeLogoUrl=o.target.result},onFilePickedFavicon(o){this.faviconImageUrl=o.target.result},onCroppedImage(o,l){o[`is_${l}_deleted`]=!1},onDeleteImage(o,l){o[l]=null,o[`${l}_url`]=null,o[`is_${l}_deleted`]=!0}}},t=o=>(M("data-v-bc16a2a3"),o=o(),R(),o),W={class:"box mb-6"},X={class:"columns"},Y={class:"column"},Z={class:"field is-grouped is-grouped-right"},$={class:"control"},ee={class:"columns"},oe=t(()=>e("div",{class:"column"},[e("h2",null,[e("b",null,"Home Page")])],-1)),se={class:"column"},le=["value"],re=t(()=>e("hr",null,null,-1)),te=t(()=>e("div",{class:"columns"},[e("div",{class:"column"},[e("h2",null,[e("b",null,"Favicon")])])],-1)),ie={class:"columns"},ae=t(()=>e("div",{class:"column"},[e("b",null,"Icon")],-1)),ne={class:"column"},de=t(()=>e("hr",null,null,-1)),ce=t(()=>e("div",{class:"columns"},[e("div",{class:"column"},[e("h2",null,[e("b",null,"QR Code Public Page")])])],-1)),me={class:"columns"},ue=t(()=>e("div",{class:"column"},[e("h2",null,[e("b",null,"Is displayed?")])],-1)),_e={class:"column"},pe=t(()=>e("option",{value:!0}," Enabled ",-1)),ge=t(()=>e("option",{value:!1}," Disabled ",-1)),fe={class:"columns"},ve=t(()=>e("div",{class:"column"},[e("b",null,"Logo")],-1)),he={class:"column"},be=t(()=>e("hr",null,null,-1)),ye=t(()=>e("div",{class:"columns"},[e("div",{class:"column"},[e("h2",null,[e("b",null,"Additional Code")])])],-1)),qe=["disabled"],Pe={class:"column is-half"},Ce={class:"column"},Ie={class:"column is-half"},Ve={class:"column"};function Ue(o,l,p,r,_,i){const b=u("biz-error-notifications"),n=u("biz-button"),P=u("biz-form-select"),V=u("biz-form-image-square"),U=u("biz-image"),B=u("biz-form-file"),C=u("biz-textarea");return u("biz-input-error"),a(),c("div",null,[m(b,{errors:o.$page.props.errors},null,8,["errors"]),e("div",W,[e("form",{method:"post",onSubmit:l[7]||(l[7]=Q((...s)=>i.onSubmit&&i.onSubmit(...s),["prevent"]))},[e("div",X,[e("div",Y,[e("div",Z,[e("div",$,[m(n,{class:"is-link"},{default:y(()=>[I(" Save ")]),_:1})])])])]),e("div",ee,[oe,e("div",se,[m(P,{modelValue:r.form.home_page,"onUpdate:modelValue":l[0]||(l[0]=s=>r.form.home_page=s),class:"is-fullwidth",message:o.error(r.form.home_page,null,p.errors)},{default:y(()=>[(a(!0),c(f,null,v(r.sortedPageOptions,s=>(a(),c("option",{key:s.id,value:s.id},[I(h(s.value)+" ",1),(a(!0),c(f,null,v(s.locales,(g,k)=>(a(),c("span",{key:k}," ["+h(g.toUpperCase())+"] ",1))),128))],8,le))),128))]),_:1},8,["modelValue","message"])])]),re,te,e("div",ie,[ae,e("div",ne,[m(V,{modelValue:r.form.favicon,"onUpdate:modelValue":l[1]||(l[1]=s=>r.form.favicon=s),"photo-url":_.faviconImageUrl,"onUpdate:photoUrl":l[2]||(l[2]=s=>_.faviconImageUrl=s),"modal-title":"Favicon","wrapper-class":"field-body is-align-items-center","cropped-image-type":"image/png",message:o.error("favicon"),notes:p.instructions.favicon,"original-image":p.faviconUrl,"show-delete-button":!0,onOnCroppedImage:l[3]||(l[3]=s=>i.onCroppedImage(r.form,"favicon")),onOnDeleteImage:l[4]||(l[4]=s=>i.onDeleteImage(r.form,"favicon"))},null,8,["modelValue","photo-url","message","notes","original-image"])])]),de,ce,e("div",me,[ue,e("div",_e,[m(P,{modelValue:r.form.qrcode_public_page_is_displayed,"onUpdate:modelValue":l[5]||(l[5]=s=>r.form.qrcode_public_page_is_displayed=s),message:o.error("qrcode_public_page_is_displayed")},{default:y(()=>[pe,ge]),_:1},8,["modelValue","message"])])]),e("div",fe,[ve,e("div",he,[i.hasQrCodeLogo?(a(),H(U,{key:0,class:"mb-2",style:{width:"200px",border:"1px solid #000"},src:_.qrCodeLogoUrl},null,8,["src"])):q("",!0),m(B,{modelValue:r.form.qrcode_public_page_logo,"onUpdate:modelValue":l[6]||(l[6]=s=>r.form.qrcode_public_page_logo=s),"accepted-types":_.imageTypes,"is-name-displayed":!1,message:o.error("qrcode_public_page_logo"),notes:p.instructions.qrcode,onOnFilePicked:i.onFilePickedQrCode},null,8,["modelValue","accepted-types","message","notes","onOnFilePicked"])])]),be,ye,e("fieldset",{disabled:_.isProcessing},[(a(!0),c(f,null,v(i.sortedTrackingCodes,s=>(a(),c("div",{key:s.key,class:"columns"},[e("div",Pe,[e("h3",null,[e("b",null,h(s.display_name),1)])]),e("div",Ce,[m(C,{modelValue:r.form[s.key],"onUpdate:modelValue":g=>r.form[s.key]=g,class:"code-editor",rows:"10"},null,8,["modelValue","onUpdate:modelValue"]),q("",!0)])]))),128)),(a(!0),c(f,null,v(i.sortedAdditionalCodes,s=>(a(),c("div",{key:s.key,class:"columns"},[e("div",Ie,[e("h3",null,[e("b",null,h(s.display_name),1)])]),e("div",Ve,[m(C,{modelValue:r.form[s.key],"onUpdate:modelValue":g=>r.form[s.key]=g,class:"code-editor",rows:"10"},null,8,["modelValue","onUpdate:modelValue"]),q("",!0)])]))),128))],8,qe)],32)])])}const $e=J(K,[["render",Ue],["__scopeId","data-v-bc16a2a3"]]);export{$e as default};
