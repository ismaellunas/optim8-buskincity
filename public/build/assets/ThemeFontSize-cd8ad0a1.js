import{M as z}from"./HasPageErrors-da5616c1.js";import{A as g}from"./AppLayout-40f8bbe7.js";import{B as S}from"./Button-03e0d3fd.js";import{B}from"./ErrorNotifications-090d6193.js";import{B as F}from"./Input-4c73d710.js";import{B as N}from"./InputError-9b7084c8.js";import{l as n,H as k,f as l,p as u,i as t,w as v,q as V,F as x,j as E,r as m,o as d,k as C,t as j,s as q}from"./vue-loading.min-a6a947f0.js";import{s as w}from"./alert-fe3154bb.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./utils-caa7a80b.js";import"./Breadcrumbs-f0ae94d4.js";import"./Link-359d994c.js";import"./NavbarItem-766600c9.js";import"./sweetalert2.all-7b2d1616.js";const P={name:"ThemeOptionFontSizeEdit",components:{BizButton:S,BizErrorNotifications:B,BizInput:F,BizInputError:N},mixins:[z],layout:g,props:{baseRouteName:{type:String,required:!0},can:{type:Object,default:()=>{}},fontSizes:{type:Object,required:!0},defaultFontSizes:{type:Object,default:()=>{}},errors:{type:Object,default:()=>{}},title:{type:String,required:!0}},setup(e){n.mapValues(e.fontSizes,c=>c.value);const o=n.mapValues(e.fontSizes,(c,r)=>{let i=e.fontSizes[r].value;return n.isEmpty(i)&&n.has(e.defaultFontSizes,r)&&(i=e.defaultFontSizes[r]),i});return{form:k(o)}},data(){return{isProcessing:!1,loader:null}},computed:{sortedFontSizes(){return n.sortBy(this.fontSizes,["order"])}},methods:{onSubmit(){const e=this;this.form.post(route(this.baseRouteName+".update"),{preserveScroll:!1,onStart:()=>{e.loader=e.$loading.show(),e.isProcessing=!0},onSuccess:o=>{w(o.props.flash.message),e.form.isDirty=!1},onFinish:()=>{e.loader.hide(),e.isProcessing=!1}})},updateFontSizeNumber(e){Number.isNaN(parseFloat(this.form[e]))||(this.form[e]=parseFloat(this.form[e]))},isNumber(e){let o=e.keyCode?e.keyCode:e.which;(o<48||o>57)&&o!==46&&e.preventDefault()}}},D={class:"box mb-6"},M={class:"field is-grouped is-grouped-right"},T={class:"control"},A=["disabled"],H={class:"column is-three-quarters"},I={class:"column"},L={class:"field has-addons has-addons-right"},R={class:"control"},U=t("p",{class:"control"},[t("button",{class:"button",tabindex:"-1",type:"button"}," px ")],-1),G={key:0};function J(e,o,c,r,i,a){const _=m("biz-error-notifications"),h=m("biz-button"),b=m("biz-input"),y=m("biz-input-error");return d(),l("div",null,[u(_,{errors:e.$page.props.errors},null,8,["errors"]),t("div",D,[t("form",{method:"post",onSubmit:o[0]||(o[0]=v((...s)=>a.onSubmit&&a.onSubmit(...s),["prevent"]))},[t("div",M,[t("div",T,[u(h,{class:"is-link"},{default:V(()=>[C(" Save ")]),_:1})])]),t("fieldset",{disabled:i.isProcessing},[(d(!0),l(x,null,E(a.sortedFontSizes,s=>{var p;return d(),l("div",{key:s.key,class:"columns"},[t("div",H,[t("h3",null,j(s.display_name),1)]),t("div",I,[t("div",L,[t("p",R,[u(b,{modelValue:r.form[s.key],"onUpdate:modelValue":f=>r.form[s.key]=f,maxlength:"7",onBlur:f=>a.updateFontSizeNumber(s.key),onKeypress:a.isNumber},null,8,["modelValue","onUpdate:modelValue","onBlur","onKeypress"])]),U]),(p=r.form.errors)!=null&&p.default&&r.form.errors.default[s.key]?(d(),l("p",G,[u(y,{message:e.error(s.key)},null,8,["message"])])):q("",!0)])])}),128))],8,A)],32)])])}const ne=O(P,[["render",J]]);export{ne as default};
