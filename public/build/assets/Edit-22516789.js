import{A as u}from"./AppLayout-40f8bbe7.js";import d from"./Form-a3a5aaf3.js";import{B as f}from"./ErrorNotifications-090d6193.js";import{I as g,l as m,H as _,f as y,p as a,i as O,r as n,o as b}from"./vue-loading.min-a6a947f0.js";import{s as h}from"./alert-fe3154bb.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import"./Breadcrumbs-f0ae94d4.js";import"./Link-359d994c.js";import"./utils-caa7a80b.js";import"./NavbarItem-766600c9.js";import"./HasModal-fa56130c.js";import"./HasPageErrors-da5616c1.js";import"./HasTab-77ca33c2.js";import"./MediaTextEditor-a29275ff.js";import"./Button-03e0d3fd.js";import"./ButtonIcon-b1d1d2b0.js";import"./Icon-6def3c13.js";import"./MediaLibrary-02fe4347.js";import"./HasLoader-a564cfe6.js";import"./ButtonsDisplayView-20deee35.js";import"./icon-class-4ab3933f.js";import"./Checkbox-8f917da5.js";import"./Dropdown-034da47d.js";import"./Search-4389f740.js";import"./Field-e1691255.js";import"./Input-4c73d710.js";import"./Field-a8082082.js";import"./Image-c2b8efed.js";import"./InputFile-216a7277.js";import"./Gallery-86a7e0a4.js";import"./ButtonDownload-7545f1b2.js";import"./Modal-655bec1f.js";import"./Table-6b0ddb68.js";import"./ModalCard-06597c5e.js";import"./FieldHorizontal-bfc51f07.js";import"./cropper-72988d76.js";import"./Pagination-c4350b04.js";import"./TableInfo-6db2c6af.js";import"./Form-7bfdff43.js";import"./Input-137492c5.js";import"./InputError-9b7084c8.js";import"./Textarea-0e8af5bc.js";import"./Textarea-fb59ae31.js";import"./Select-19a91b6e.js";import"./sweetalert2.all-7b2d1616.js";import"./ButtonLink-abb08373.js";import"./DateTime-c0efacbf.js";import"./Datepicker-4f509259.js";import"./Select-a178b677.js";import"./Slug-e3370d8d.js";import"./InputAddons-7c9a4924.js";import"./EditorTinymce-3bb5766f.js";import"./TabList-7a2ba8b0.js";const S={name:"PostEdit",components:{PostForm:d,BizErrorNotifications:f},layout:u,props:{can:{type:Object,required:!0},categoryOptions:{type:Array,required:!0},coverImage:{type:[Object,null],required:!0},errors:{type:Object,default:()=>{}},languageOptions:{type:Object,required:!0},post:{type:Object,required:!0},statusOptions:{type:Array,required:!0},title:{type:String,required:!0},modules:{type:Object,default:()=>{}}},setup(t){var i;const e=g().props.value.defaultLanguage,o=m.find(t.post.categories,function(s){return s.pivot.is_primary}),r={categories:m.map(t.post.categories,"id"),primary_category:(o==null?void 0:o.id)??null,content:t.post.content,cover_image_id:(i=t.coverImage)==null?void 0:i.id,excerpt:t.post.excerpt,locale:t.post.locale,meta_description:t.post.meta_description,meta_title:t.post.meta_title,slug:t.post.slug,status:t.post.status,title:t.post.title,scheduled_at:t.post.scheduled_at?new Date(t.post.scheduled_at):new Date};return{defaultLocale:e,form:_(r),localeOptions:t.languageOptions}},data(){return{baseRouteName:"admin.posts",isProcessing:!1,loader:null}},methods:{onSubmit(){const t=this;this.form.put(route(this.baseRouteName+".update",this.post.id),{preserveScroll:!1,onStart:()=>{t.loader=t.$loading.show(),t.isProcessing=!0},onSuccess:e=>{h(e.props.flash.message),t.form.slug=e.props.post.slug,t.form.isDirty=!1},onFinish:()=>{t.loader.hide(),t.isProcessing=!1}})}}},q={class:"mb-6"};function P(t,e,o,r,i,s){const p=n("biz-error-notifications"),l=n("post-form");return b(),y("div",null,[a(p,{errors:t.$page.props.errors},null,8,["errors"]),O("div",q,[a(l,{modelValue:r.form,"onUpdate:modelValue":e[0]||(e[0]=c=>r.form=c),can:o.can,errors:o.errors,"is-new":!1,"is-processing":i.isProcessing,"category-options":o.categoryOptions,"locale-options":r.localeOptions,"status-options":o.statusOptions,"cover-image":o.coverImage,modules:o.modules,onOnSubmit:s.onSubmit},null,8,["modelValue","can","errors","is-processing","category-options","locale-options","status-options","cover-image","modules","onOnSubmit"])])])}const Pt=v(S,[["render",P]]);export{Pt as default};
