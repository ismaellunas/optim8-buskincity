import{M as v}from"./HasPageErrors-da5616c1.js";import{B}from"./Button-03e0d3fd.js";import{B as C}from"./Select-a178b677.js";import{B as z}from"./ModalCard-06597c5e.js";import{B as V}from"./Radio-6fefdefd.js";import{H as k,u as w,q as r,r as i,o as u,i as s,t as _,p as a,k as d,f as p,j as y,F as D,w as F}from"./vue-loading.min-a6a947f0.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import"./utils-caa7a80b.js";import"./Field-a8082082.js";import"./Field-e1691255.js";import"./InputError-9b7084c8.js";import"./Select-19a91b6e.js";const U={name:"ModalFormDeleteUser",components:{BizButton:B,BizFormSelect:C,BizModalCard:z,BizRadio:V},mixins:[v],props:{errors:{type:Object,default:()=>{}},user:{type:Object,required:!0},getCandidatesRoute:{type:String,required:!0}},emits:["close","delete-user"],setup(o){return{form:k({assigned_user:null,is_reassigned:!1})}},data(){return{candidates:[],loader:null}},mounted(){this.loadCandidates()},methods:{submit(){this.$emit("delete-user",this.form)},loadCandidates(){const o=this;o.loader=o.$loading.show();const e=route(o.getCandidatesRoute,o.user.id);return axios.get(e).then(n=>{o.candidates=n.data}).then(()=>{o.loader.hide()})}}},x={class:"modal-card-title has-text-weight-bold"},S=s("div",{class:"content"},[s("p",null," What should be done with content owned by the user? ")],-1),j={class:"field"},q={class:"control"},N={class:"field"},R={class:"control"},E=["value"],H={class:"columns",style:{width:"100%"}},O={class:"column"},A={class:"is-pulled-right"};function L(o,e,n,l,b,m){const c=i("biz-radio"),g=i("biz-form-select"),f=i("biz-button"),h=i("biz-modal-card");return u(),w(h,{onClose:e[6]||(e[6]=t=>o.$emit("close"))},{header:r(()=>[s("p",x," Delete User: "+_(n.user.full_name),1),s("button",{"aria-label":"close",class:"delete",onClick:e[0]||(e[0]=t=>o.$emit("close"))})]),footer:r(()=>[s("div",H,[s("div",O,[s("div",A,[a(f,{onClick:e[5]||(e[5]=t=>o.$emit("close"))},{default:r(()=>[d(" Cancel ")]),_:1}),a(f,{class:"is-primary ml-1",type:"button",onClick:m.submit},{default:r(()=>[d(" Delete ")]),_:1},8,["onClick"])])])])]),default:r(()=>[S,s("form",{onSubmit:e[4]||(e[4]=F((...t)=>m.submit&&m.submit(...t),["prevent"]))},[s("fieldset",null,[s("div",j,[s("div",q,[a(c,{modelValue:l.form.is_reassigned,"onUpdate:modelValue":e[1]||(e[1]=t=>l.form.is_reassigned=t),name:"delete",value:!1},{default:r(()=>[d(" Delete all content. ")]),_:1},8,["modelValue"])])]),s("div",N,[s("div",R,[a(c,{modelValue:l.form.is_reassigned,"onUpdate:modelValue":e[2]||(e[2]=t=>l.form.is_reassigned=t),name:"delete",value:!0},{default:r(()=>[d(" Attribute all content to: ")]),_:1},8,["modelValue"]),a(g,{modelValue:l.form.assigned_user,"onUpdate:modelValue":e[3]||(e[3]=t=>l.form.assigned_user=t),class:"is-fullwidth","field-class":"ml-4",placeholder:"Select a user",disabled:!l.form.is_reassigned,message:o.error("assigned_user","deleteUser",l.form.errors)},{default:r(()=>[(u(!0),p(D,null,y(b.candidates,t=>(u(),p("option",{key:t.id,value:t.id},_(t.full_name),9,E))),128))]),_:1},8,["modelValue","disabled","message"])])])])],32)]),_:1})}const ee=M(U,[["render",L]]);export{ee as default};
