"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[856],{2523:(e,t,n)=>{n.d(t,{tH:()=>r,bM:()=>a,ju:()=>s,Zd:()=>u,fp:()=>c,y7:()=>d,GZ:()=>m});var o=n(5166);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="a-zA-Z0-9_ -",a="a-zA-Z0-9-";function s(){return"ID"+(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase().substr(0,10)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"modelValue";e("update:".concat(n),t)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"modelValue";return(0,o.computed)({get:function(){return e[n]},set:function(e){return i(t,e,n)}})}function c(e){return function(e){var t=null==e;if(t)return t;if("number"==typeof e.size)return!e.size;var n=l(e);if("number"==typeof e.length&&"function"!==n)return!e.length;if("object"===n){var o=Object.keys(e).length;if("number"==typeof o)return!o}return!1}(e)||"string"==typeof e&&!1===/\S/.test(e)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;return new Promise((function(o){e.toBlob((function(e){o(e)}),t,n)}))}function m(e,t,n){if(!t||"object"!==l(t)||t instanceof Date||t instanceof File||t instanceof Blob){var o=null==t?"":t;e.append(n,o)}else Object.keys(t).forEach((function(o){m(e,t[o],n?"".concat(n,"[").concat(o,"]"):o)}))}},7828:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(9038),l=n(2523);const r={methods:{error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=(0,o.qt)().props.value.errors;return(0,l.fp)(n)||!n.hasOwnProperty(t)?null:n[t].hasOwnProperty(e)?n[t][e]:null}}}},3856:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var o=n(5166),l={class:"columns"},r={class:"column is-three-quarters"},a={class:"column"},s=["value"],i={class:"field is-grouped is-pulled-right"},u=(0,o.createTextVNode)(" Submit "),c=(0,o.createTextVNode)(" Cancel ");var d=n(7828),m=n(5602),f=n(418),p=n(4260),b=n(6547),v=n(1175),h=n(1958),k=n(2313),y=n(2523),g=n(6486),C=n(9038);function V(e,t){var n=Object.keys(e);return t.filter((function(e){return!n.includes(e.id)}))}function S(e,t){return V(e,t).find(Boolean)}const B={mixins:[d.Z],components:{SdbButton:m.Z,SdbButtonIcon:f.Z,SdbFormField:p.Z,SdbFormFieldHorizontal:b.Z,SdbFormInput:v.Z,SdbInput:h.Z,SdbSelect:k.Z},emits:["cancel","on-success-submit"],props:{isAjax:{type:Boolean,default:!1},media:Object},setup:function(e,t){var n,l=t.emit,r={};(0,g.isEmpty)(e.media.translations)?r.en={alt:""}:e.media.translations.forEach((function(e){r[e.locale]={alt:e.alt}}));var a=(0,o.reactive)({_method:"post",file:null,file_name:e.media.file_name,translations:r}),s=(0,C.qt)().props.value.languageOptions,i=S(r,s),u=(0,o.ref)(null!==(n=null==i?void 0:i.id)&&void 0!==n?n:null);return{defaultLocale:(0,C.qt)().props.value.currentLanguage,form:a,localeOptions:s,selectedLocale:u,submit:function(t){var n=null;if(e.media.id?(n=route("admin.media.update",e.media.id),t._method="put"):(n=e.isAjax?route("api.admin.media.store"):route("admin.media.store"),t.file=e.media.file),e.isAjax){var o=new FormData;(0,y.GZ)(o,t),axios.post(n,o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){l("on-success-submit",e)})).catch((function(e){console.log(e)}))}else(0,C.cI)(t).post(n,{onSuccess:function(e){l("on-success-submit",e)}})}}},data:function(){return{isInputDisabled:!1,label:{alternative_text:"Alternative Text"}}},methods:{addTranslation:function(){var e;this.form.translations[this.selectedLocale]={alt:""};var t=S(this.form.translations,this.localeOptions);this.selectedLocale=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null},deleteTranslation:function(e){delete this.form.translations[e]},keyPressFileName:function(e){var t=String.fromCharCode(e.keyCode);if(" "===t||"_"===t)e.target.value+="-";else if(new RegExp("^["+y.bM+"]+$").test(t))return!0;e.preventDefault()},keyPressAltText:function(e){var t=String.fromCharCode(e.keyCode);if(new RegExp("^["+y.tH+"]*$").test(t))return!0;e.preventDefault()}},computed:{availableLocales:function(){return V(this.form.translations,this.localeOptions)},isImage:function(){return this.media.is_image},canSubmit:function(){return!(0,g.isEmpty)(this.form.file_name)}},render:function(e,t,n,d,m,f){var p=(0,o.resolveComponent)("sdb-form-input"),b=(0,o.resolveComponent)("sdb-form-field"),v=(0,o.resolveComponent)("sdb-input"),h=(0,o.resolveComponent)("sdb-button-icon"),k=(0,o.resolveComponent)("sdb-form-field-horizontal"),y=(0,o.resolveComponent)("sdb-select"),g=(0,o.resolveComponent)("sdb-button");return(0,o.openBlock)(),(0,o.createElementBlock)("form",{onSubmit:t[3]||(t[3]=(0,o.withModifiers)((function(e){return d.submit(d.form,n.media.id)}),["prevent"]))},[(0,o.createVNode)(p,{label:"File Name",modelValue:d.form.file_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.form.file_name=e}),message:e.error("file_name"),disabled:m.isInputDisabled,onOnKeypress:f.keyPressFileName,required:""},null,8,["modelValue","message","disabled","onOnKeypress"]),f.isImage?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createVNode)(b,null,{label:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(m.label.alternative_text),1)]})),_:1}),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.localeOptions,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:e.id},[d.form.translations[e.id]?((0,o.openBlock)(),(0,o.createBlock)(k,{key:0},{label:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e.id.toUpperCase()),1)]})),default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",r,[(0,o.createVNode)(v,{modelValue:d.form.translations[e.id].alt,"onUpdate:modelValue":function(t){return d.form.translations[e.id].alt=t},disabled:m.isInputDisabled,onKeypress:f.keyPressAltText},null,8,["modelValue","onUpdate:modelValue","disabled","onKeypress"])]),(0,o.createElementVNode)("div",a,[e.id!==d.defaultLocale?((0,o.openBlock)(),(0,o.createBlock)(h,{key:0,icon:"fas fa-minus",type:"button",onClick:function(t){return f.deleteTranslation(e.id)}},null,8,["onClick"])):(0,o.createCommentVNode)("",!0)])])]})),_:2},1024)):(0,o.createCommentVNode)("",!0)],64)})),128)),(0,o.createVNode)(k,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(y,{modelValue:d.selectedLocale,"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.selectedLocale=e})},{default:(0,o.withCtx)((function(){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(f.availableLocales,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{value:e.id},(0,o.toDisplayString)(e.name),9,s)})),256))]})),_:1},8,["modelValue"]),(0,o.createVNode)(h,{icon:"fas fa-plus",type:"button",onClick:f.addTranslation},null,8,["onClick"])]})),_:1})],64)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",i,[(0,o.createVNode)(g,{class:"is-link",disabled:!f.canSubmit},{default:(0,o.withCtx)((function(){return[u]})),_:1},8,["disabled"]),(0,o.createVNode)(g,{class:"is-link is-light ml-2",type:"button",onClick:t[2]||(t[2]=function(t){return e.$emit("cancel")})},{default:(0,o.withCtx)((function(){return[c]})),_:1})])],32)}},E=B},5602:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(5166),l=["type"];const r={props:{type:{type:String,default:"submit"}},render:function(e,t,n,r,a,s){return(0,o.openBlock)(),(0,o.createElementBlock)("button",{class:"button",type:n.type},[(0,o.renderSlot)(e.$slots,"default")],8,l)}},a=r},418:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(5166);const l={components:{SdbButton:n(5602).Z},props:["icon","iconClass"],render:function(e,t,n,l,r,a){var s=(0,o.resolveComponent)("sdb-button");return(0,o.openBlock)(),(0,o.createBlock)(s,null,{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["icon",n.iconClass])},[(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)(n.icon)},null,2)],2),(0,o.renderSlot)(e.$slots,"default")]})),_:3})}},r=l},4260:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(5166),l={class:"control"};var r={class:"field"};const a={render:function(e,t,n,l,a,s){return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.renderSlot)(e.$slots,"default")])}};const s={components:{SdbField:a,SdbLabel:n(5620).Z},render:function(e,t,n,r,a,s){var i=(0,o.resolveComponent)("sdb-label"),u=(0,o.resolveComponent)("sdb-field");return(0,o.openBlock)(),(0,o.createBlock)(u,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(i,null,{default:(0,o.withCtx)((function(){return[(0,o.renderSlot)(e.$slots,"label")]})),_:3}),(0,o.createElementVNode)("div",l,[(0,o.renderSlot)(e.$slots,"default")]),(0,o.renderSlot)(e.$slots,"error")]})),_:3})}},i=s},6547:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(5166),l={class:"field is-horizontal"},r={class:"label"},a={class:"field-body"},s={class:"field"},i={class:"control"};var u=n(6486);const c={props:{fieldLabelClass:{}},computed:{fieldLabelClasses:function(){if(!(0,u.isEmpty)(this.fieldLabelClass)){if((0,u.isString)(this.fieldLabelClass))return(0,u.trim)(this.fieldLabelClass).split(" ");if(isArrray(this.fieldLabelClass))return this.fieldLabelClass}return["is-normal"]}},render:function(e,t,n,u,c,d){return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["field-label",d.fieldLabelClasses])},[(0,o.createElementVNode)("label",r,[(0,o.renderSlot)(e.$slots,"label")])],2),(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",i,[(0,o.renderSlot)(e.$slots,"default")])])])])}},d=c},1175:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(5166);var l=n(4260),r=n(1958),a=n(6283);const s={components:{SdbFormField:l.Z,SdbInput:r.Z,SdbInputError:a.Z},emits:["update:modelValue","on-keypress"],props:["label","message","modelValue","placeholder","disabled","required"],render:function(e,t,n,l,r,a){var s=(0,o.resolveComponent)("sdb-input"),i=(0,o.resolveComponent)("sdb-input-error"),u=(0,o.resolveComponent)("sdb-form-field");return(0,o.openBlock)(),(0,o.createBlock)(u,null,{label:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(n.label),1)]})),error:(0,o.withCtx)((function(){return[(0,o.createVNode)(i,{message:n.message},null,8,["message"])]})),default:(0,o.withCtx)((function(){return[(0,o.createVNode)(s,{disabled:n.disabled,placeholder:n.placeholder,value:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)}),onKeypress:t[1]||(t[1]=function(t){return e.$emit("on-keypress",t)})},null,8,["disabled","placeholder","value"])]})),_:1})}},i=s},1958:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(5166),l=["value"];const r={props:{modelValue:{},hasError:{default:!1}},emits:["update:modelValue"],methods:{},render:function(e,t,n,r,a,s){return(0,o.openBlock)(),(0,o.createElementBlock)("input",{class:(0,o.normalizeClass)(["input",{"is-danger":n.hasError}]),value:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)}),ref:"input"},null,42,l)}},a=r},6283:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(5166),l={class:"help is-danger"};var r=n(2523);const a={props:["message"],computed:{isArrayMessage:function(){return!(0,r.fp)(this.message)&&Array.isArray(this.message)}},render:function(e,t,n,r,a,s){return s.isArrayMessage?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:0},(0,o.renderList)(n.message,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("p",l,(0,o.toDisplayString)(e),1)})),256)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:1,class:"help is-danger"},(0,o.toDisplayString)(n.message),513)),[[o.vShow,n.message]])}},s=a},5620:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(5166);const l={props:{class:{default:[]}},render:function(e,t,n,l,r,a){return(0,o.openBlock)(),(0,o.createElementBlock)("label",{class:(0,o.normalizeClass)(["label",n.class])},[(0,o.renderSlot)(e.$slots,"default")],2)}},r=l},2313:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(5166);var l=n(2523);const r={props:["modelValue","class"],emits:["change","update:modelValue"],setup:function(e,t){var n=t.emit;return{selected:(0,l.Zd)(e,n)}},methods:{focus:function(){this.$refs.input.focus()}},render:function(e,t,n,l,r,a){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["select",n.class])},[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.selected=e}),onChange:t[1]||(t[1]=function(t){return e.$emit("change",t)})},[(0,o.renderSlot)(e.$slots,"default")],544),[[o.vModelSelect,l.selected]])],2)}},a=r}}]);