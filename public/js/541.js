"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[541],{5351:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(5166),r={class:"box"},s={class:"columns"},a={class:"column is-one-third"},c={class:"column is-two-thirds"},i={class:"px-4 py-4"};const l={components:{JetSectionTitle:o(1509).Z},render:function(e,t,o,l,d,u){var f=(0,n.resolveComponent)("jet-section-title");return(0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.createVNode)("div",s,[(0,n.createVNode)("div",a,[(0,n.createVNode)(f,null,{title:(0,n.withCtx)((function(){return[(0,n.renderSlot)(e.$slots,"title")]})),description:(0,n.withCtx)((function(){return[(0,n.renderSlot)(e.$slots,"description")]})),_:3})]),(0,n.createVNode)("div",c,[(0,n.createVNode)("div",i,[(0,n.renderSlot)(e.$slots,"content")])])])])}},d=l},5557:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(5166);const r={props:{type:{type:String,default:"submit"}},render:function(e,t,o,r,s,a){return(0,n.openBlock)(),(0,n.createBlock)("button",{type:o.type,class:"button is-primary"},[(0,n.renderSlot)(e.$slots,"default")],8,["type"])}},s=r},5829:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(5166);const r={props:{type:{type:String,default:"button"}},render:function(e,t,o,r,s,a){return(0,n.openBlock)(),(0,n.createBlock)("button",{type:o.type,class:"button is-danger"},[(0,n.renderSlot)(e.$slots,"default")],8,["type"])}},s=r},8415:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(5166),r={class:"px-6 py-4"},s={class:"text-lg"},a={class:"mt-4"},c={class:"px-6 py-4 bg-gray-100 text-right"};const i={emits:["close"],components:{Modal:o(7669).Z},props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},methods:{close:function(){this.$emit("close")}},render:function(e,t,o,i,l,d){var u=(0,n.resolveComponent)("modal");return(0,n.openBlock)(),(0,n.createBlock)(u,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:d.close},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("div",r,[(0,n.createVNode)("div",s,[(0,n.renderSlot)(e.$slots,"title")]),(0,n.createVNode)("div",a,[(0,n.renderSlot)(e.$slots,"content")])]),(0,n.createVNode)("div",c,[(0,n.renderSlot)(e.$slots,"footer")])]})),_:3},8,["show","max-width","closeable","onClose"])}},l=i},7904:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(5166);const r={props:["modelValue"],emits:["update:modelValue"],methods:{focus:function(){this.$refs.input.focus()}},render:function(e,t,o,r,s,a){return(0,n.openBlock)(),(0,n.createBlock)("input",{class:"input",value:o.modelValue,onInput:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t.target.value)}),ref:"input"},null,40,["value"])}},s=r},8985:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(5166),r={class:"text-sm text-red-600"};const s={props:["message"],render:function(e,t,o,s,a,c){return(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)("p",r,(0,n.toDisplayString)(o.message),1)],512)),[[n.vShow,o.message]])}},a=s},7669:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(5166),r={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50","scroll-region":""},s=(0,n.createVNode)("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1);const a={emits:["close"],props:{show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},watch:{show:{immediate:!0,handler:function(e){document.body.style.overflow=e?"hidden":null}}},setup:function(e,t){var o=t.emit,r=function(){e.closeable&&o("close")},s=function(t){"Escape"===t.key&&e.show&&r()};return(0,n.onMounted)((function(){return document.addEventListener("keydown",s)})),(0,n.onUnmounted)((function(){document.removeEventListener("keydown",s),document.body.style.overflow=null})),{close:r}},computed:{maxWidthClass:function(){return{sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"}[this.maxWidth]}},render:function(e,t,o,a,c,i){return(0,n.openBlock)(),(0,n.createBlock)(n.Teleport,{to:"body"},[(0,n.createVNode)(n.Transition,{"leave-active-class":"duration-200"},{default:(0,n.withCtx)((function(){return[(0,n.withDirectives)((0,n.createVNode)("div",r,[(0,n.createVNode)(n.Transition,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:(0,n.withCtx)((function(){return[(0,n.withDirectives)((0,n.createVNode)("div",{class:"fixed inset-0 transform transition-all",onClick:t[1]||(t[1]=function(){return a.close&&a.close.apply(a,arguments)})},[s],512),[[n.vShow,o.show]])]})),_:1}),(0,n.createVNode)(n.Transition,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:(0,n.withCtx)((function(){return[(0,n.withDirectives)((0,n.createVNode)("div",{class:["mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",i.maxWidthClass]},[o.show?(0,n.renderSlot)(e.$slots,"default",{key:0}):(0,n.createCommentVNode)("",!0)],2),[[n.vShow,o.show]])]})),_:3})],512),[[n.vShow,o.show]])]})),_:1})])}},c=a},6806:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(5166);const r={props:{type:{type:String,default:"button"}},render:function(e,t,o,r,s,a){return(0,n.openBlock)(),(0,n.createBlock)("button",{type:o.type,class:"button is-warning"},[(0,n.renderSlot)(e.$slots,"default")],8,["type"])}},s=r},1509:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(5166),r={class:"container py-4"},s={class:"is-size-4 has-text-weight-semibold"},a={class:"is-size-6"},c={class:"px-4 px-0-mobile"};const i={render:function(e,t){return(0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.createVNode)("h1",s,[(0,n.renderSlot)(e.$slots,"title")]),(0,n.createVNode)("h2",a,[(0,n.renderSlot)(e.$slots,"description")]),(0,n.createVNode)("div",c,[(0,n.renderSlot)(e.$slots,"aside")])])}},l=i},3541:(e,t,o)=>{o.r(t),o.d(t,{default:()=>F});var n=o(5166),r=(0,n.createTextVNode)(" Two Factor Authentication "),s=(0,n.createTextVNode)(" Add additional security to your account using two factor authentication. "),a={key:0,class:""},c={key:1,class:""},i=(0,n.createVNode)("div",{class:"mt-3"},[(0,n.createVNode)("p",null," When two factor authentication is enabled, you will be prompted for a secure, random token during authentication. You may retrieve this token from your phone's Google Authenticator application. ")],-1),l={key:2},d={key:0},u=(0,n.createVNode)("div",{class:"mt-4"},[(0,n.createVNode)("p",{class:"font-semibold"}," Two factor authentication is now enabled. Scan the following QR code using your phone's authenticator application. ")],-1),f={key:1},p=(0,n.createVNode)("div",{class:"mt-4"},[(0,n.createVNode)("p",{class:"font-semibold"}," Store these recovery codes in a secure password manager. They can be used to recover access to your account if your two factor authentication device is lost. ")],-1),m={class:"mt-4 px-4 py-4"},h={class:"mt-5"},w={key:0},v=(0,n.createTextVNode)(" Enable "),y={key:1},C=(0,n.createTextVNode)(" Regenerate Recovery Codes "),x=(0,n.createTextVNode)(" Show Recovery Codes "),b=(0,n.createTextVNode)(" Disable ");var g=o(5351),k=o(5557),V={class:"mt-4"},N=(0,n.createTextVNode)(" Cancel ");var B=o(8415),S=o(7904),T=o(8985),$=o(6806);const Z={emits:["confirmed"],props:{title:{default:"Confirm Password"},content:{default:"For your security, please confirm your password to continue."},button:{default:"Confirm"}},components:{JetButton:k.Z,JetDialogModal:B.Z,JetInput:S.Z,JetInputError:T.Z,JetSecondaryButton:$.Z},data:function(){return{confirmingPassword:!1,form:{password:"",error:""}}},methods:{startConfirmingPassword:function(){var e=this;axios.get(route("password.confirmation")).then((function(t){t.data.confirmed?e.$emit("confirmed"):(e.confirmingPassword=!0,setTimeout((function(){return e.$refs.password.focus()}),250))}))},confirmPassword:function(){var e=this;this.form.processing=!0,axios.post(route("password.confirm"),{password:this.form.password}).then((function(){e.form.processing=!1,e.closeModal(),e.$nextTick((function(){return e.$emit("confirmed")}))})).catch((function(t){e.form.processing=!1,e.form.error=t.response.data.errors.password[0],e.$refs.password.focus()}))},closeModal:function(){this.confirmingPassword=!1,this.form.password="",this.form.error=""}},render:function(e,t,o,r,s,a){var c=(0,n.resolveComponent)("jet-input"),i=(0,n.resolveComponent)("jet-input-error"),l=(0,n.resolveComponent)("jet-secondary-button"),d=(0,n.resolveComponent)("jet-button"),u=(0,n.resolveComponent)("jet-dialog-modal");return(0,n.openBlock)(),(0,n.createBlock)("span",null,[(0,n.createVNode)("span",{onClick:t[1]||(t[1]=function(){return a.startConfirmingPassword&&a.startConfirmingPassword.apply(a,arguments)})},[(0,n.renderSlot)(e.$slots,"default")]),(0,n.createVNode)(u,{show:s.confirmingPassword,onClose:a.closeModal},{title:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(o.title),1)]})),content:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(o.content)+" ",1),(0,n.createVNode)("div",V,[(0,n.createVNode)(c,{type:"password",class:"mt-1 block w-3/4",placeholder:"Password",ref:"password",modelValue:s.form.password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.form.password=e}),onKeyup:(0,n.withKeys)(a.confirmPassword,["enter"])},null,8,["modelValue","onKeyup"]),(0,n.createVNode)(i,{message:s.form.error,class:"mt-2"},null,8,["message"])])]})),footer:(0,n.withCtx)((function(){return[(0,n.createVNode)(l,{onClick:a.closeModal},{default:(0,n.withCtx)((function(){return[N]})),_:1},8,["onClick"]),(0,n.createVNode)(d,{class:["ml-2",{"opacity-25":s.form.processing}],onClick:a.confirmPassword,disabled:s.form.processing},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(o.button),1)]})),_:1},8,["onClick","class","disabled"])]})),_:1},8,["show","onClose"])])}},_=Z;var P=o(5829);const D={components:{JetActionSection:g.Z,JetButton:k.Z,JetConfirmsPassword:_,JetDangerButton:P.Z,JetSecondaryButton:$.Z},data:function(){return{enabling:!1,disabling:!1,qrCode:null,recoveryCodes:[]}},methods:{enableTwoFactorAuthentication:function(){var e=this;this.enabling=!0,this.$inertia.post("/user/two-factor-authentication",{},{preserveScroll:!0,onSuccess:function(){return Promise.all([e.showQrCode(),e.showRecoveryCodes()])},onFinish:function(){return e.enabling=!1}})},showQrCode:function(){var e=this;return axios.get("/user/two-factor-qr-code").then((function(t){e.qrCode=t.data.svg}))},showRecoveryCodes:function(){var e=this;return axios.get("/user/two-factor-recovery-codes").then((function(t){e.recoveryCodes=t.data}))},regenerateRecoveryCodes:function(){var e=this;axios.post("/user/two-factor-recovery-codes").then((function(t){e.showRecoveryCodes()}))},disableTwoFactorAuthentication:function(){var e=this;this.disabling=!0,this.$inertia.delete("/user/two-factor-authentication",{preserveScroll:!0,onSuccess:function(){return e.disabling=!1}})}},computed:{twoFactorEnabled:function(){return!this.enabling&&this.$page.props.user.two_factor_enabled}},render:function(e,t,o,g,k,V){var N=(0,n.resolveComponent)("jet-button"),B=(0,n.resolveComponent)("jet-confirms-password"),S=(0,n.resolveComponent)("jet-secondary-button"),T=(0,n.resolveComponent)("jet-danger-button"),$=(0,n.resolveComponent)("jet-action-section");return(0,n.openBlock)(),(0,n.createBlock)($,null,{title:(0,n.withCtx)((function(){return[r]})),description:(0,n.withCtx)((function(){return[s]})),content:(0,n.withCtx)((function(){return[V.twoFactorEnabled?((0,n.openBlock)(),(0,n.createBlock)("h3",a," You have enabled two factor authentication. ")):((0,n.openBlock)(),(0,n.createBlock)("h3",c," You have not enabled two factor authentication. ")),i,V.twoFactorEnabled?((0,n.openBlock)(),(0,n.createBlock)("div",l,[k.qrCode?((0,n.openBlock)(),(0,n.createBlock)("div",d,[u,(0,n.createVNode)("div",{class:"mt-4",innerHTML:k.qrCode},null,8,["innerHTML"])])):(0,n.createCommentVNode)("",!0),k.recoveryCodes.length>0?((0,n.openBlock)(),(0,n.createBlock)("div",f,[p,(0,n.createVNode)("div",m,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(k.recoveryCodes,(function(e){return(0,n.openBlock)(),(0,n.createBlock)("div",{key:e},(0,n.toDisplayString)(e),1)})),128))])])):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)("div",h,[V.twoFactorEnabled?((0,n.openBlock)(),(0,n.createBlock)("div",y,[(0,n.createVNode)(B,{onConfirmed:V.regenerateRecoveryCodes},{default:(0,n.withCtx)((function(){return[k.recoveryCodes.length>0?((0,n.openBlock)(),(0,n.createBlock)(S,{key:0,class:"mr-3"},{default:(0,n.withCtx)((function(){return[C]})),_:1})):(0,n.createCommentVNode)("",!0)]})),_:1},8,["onConfirmed"]),(0,n.createVNode)(B,{onConfirmed:V.showRecoveryCodes},{default:(0,n.withCtx)((function(){return[0===k.recoveryCodes.length?((0,n.openBlock)(),(0,n.createBlock)(S,{key:0,class:"mr-3"},{default:(0,n.withCtx)((function(){return[x]})),_:1})):(0,n.createCommentVNode)("",!0)]})),_:1},8,["onConfirmed"]),(0,n.createVNode)(B,{onConfirmed:V.disableTwoFactorAuthentication},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(T,{class:{"opacity-25":k.disabling},disabled:k.disabling},{default:(0,n.withCtx)((function(){return[b]})),_:1},8,["class","disabled"])]})),_:1},8,["onConfirmed"])])):((0,n.openBlock)(),(0,n.createBlock)("div",w,[(0,n.createVNode)(B,{onConfirmed:V.enableTwoFactorAuthentication},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(N,{type:"button",class:{"opacity-25":k.enabling},disabled:k.enabling},{default:(0,n.withCtx)((function(){return[v]})),_:1},8,["class","disabled"])]})),_:1},8,["onConfirmed"])]))])]})),_:1})}},F=D}}]);