"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6115],{2489:(e,t,n)=>{n.d(t,{bM:()=>l,E4:()=>a,ju:()=>s,Zd:()=>c,fp:()=>u,y7:()=>d,GZ:()=>m,qC:()=>p,k6:()=>f});var o=n(3680);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var l="a-z0-9-",a=l;function s(){return"ID"+(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase().substr(0,10)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"modelValue";e("update:".concat(n),t)}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"modelValue";return(0,o.computed)({get:function(){return e[n]},set:function(e){return i(t,e,n)}})}function u(e){return function(e){var t=null==e;if(t)return t;if("number"==typeof e.size)return!e.size;var n=r(e);if("number"==typeof e.length&&"function"!==n)return!e.length;if("object"===n){var o=Object.keys(e).length;if("number"==typeof o)return!o}return!1}(e)||"string"==typeof e&&!1===/\S/.test(e)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;return new Promise((function(o){e.toBlob((function(e){o(e)}),t,n)}))}function m(e,t,n){if(!t||"object"!==r(t)||t instanceof Date||t instanceof File||t instanceof Blob){var o=null==t?"":t;e.append(n,o)}else Object.keys(t).forEach((function(o){m(e,t[o],n?"".concat(n,"[").concat(o,"]"):o)}))}function p(e,t){var n,o=[];for(n in e)if(e.hasOwnProperty(n)){var l=t?t+"["+n+"]":n,a=e[n];o.push(null!==a&&"object"===r(a)?p(a,l):encodeURIComponent(l)+"="+encodeURIComponent(a))}return o.join("&")}function f(e){var t=e.toLowerCase().replace(/ /g,"-").replace(/[-]+/g,"-").replace(/[^\w-]+/g,"");return t&&"-"===t.slice(-1)?t.slice(0,-1):t}},7908:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(9038),r=n(2489);const l={methods:{error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n||(n=(0,o.qt)().props.value.errors),(0,r.fp)(n)||!n.hasOwnProperty(t)?null:n[t].hasOwnProperty(e)?n[t][e]:null}}}},3744:(e,t)=>{t.Z=(e,t)=>{for(const[n,o]of t)e[n]=o;return e}},6115:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var o=n(3680),r={class:"tabs is-boxed"},l=["onClick"],a={key:0},s=["value"],i={key:0,class:"content"},c={class:"field is-grouped is-pulled-right"},u=(0,o.createTextVNode)(" Submit "),d=(0,o.createTextVNode)(" Cancel ");var m=n(7908),p=n(2363),f={class:"delete"};const b={};var v=n(3744);const h=(0,v.Z)(b,[["render",function(e,t,n,r,l,a){return(0,o.openBlock)(),(0,o.createElementBlock)("button",f)}]]);var k=n(1358),g=n(1997),y=n(2206),B=n(3025),V=n(5246),C=n(2489),E=n(6486),S=n(9038);function Z(e,t){var n=Object.keys(e);return t.filter((function(e){return!n.includes(e.id)}))}function N(e,t){return Z(e,t).find(Boolean)}const w={name:"MediaForm",mixins:[m.Z],components:{SdbButton:p.Z,SdbButtonDelete:h,SdbButtonIcon:k.Z,SdbErrorNotifications:g.Z,SdbFormInput:y.Z,SdbFormTextarea:B.Z,SdbSelect:V.Z},emits:["cancel","on-success-submit","on-error-submit"],props:{isAjax:{type:Boolean,default:!1},media:Object},setup:function(e,t){t.emit;var n,r={},l=(0,S.qt)().props.value.currentLanguage;(0,E.isEmpty)(e.media.translations)?r.en={alt:"",description:""}:(e.media.translations.forEach((function(e){var t,n;r[e.locale]={alt:null!==(t=e.alt)&&void 0!==t?t:null,description:null!==(n=e.description)&&void 0!==n?n:null}})),r[l]||(r[l]={alt:"",description:""}));var a=(0,o.reactive)({_method:"post",file:null,file_name:e.media.file_name,translations:r}),s=(0,S.qt)().props.value.languageOptions,i=N(r,s),c=(0,o.ref)(null!==(n=null==i?void 0:i.id)&&void 0!==n?n:null);return{activeTab:(0,o.ref)(l),defaultLocale:l,form:a,localeOptions:s,selectedLocale:c}},data:function(){return{isInputDisabled:!1,formErrors:{},label:{alternative_text:"Alternative Text",description:"Description"},loader:null}},methods:{resetFirstAvailableLocale:function(){var e,t=N(this.form.translations,this.localeOptions);t&&(this.selectedLocale=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null)},createNewTranslation:function(e){this.form.translations[e]={alt:"",description:""}},setActiveTab:function(e){this.activeTab!==e&&(this.activeTab=e)},addTranslation:function(){var e=this.selectedLocale;this.createNewTranslation(e),this.setActiveTab(e),this.resetFirstAvailableLocale()},deleteTranslation:function(e,t){delete this.form.translations[t];var n=(0,E.keys)(this.form.translations);n.includes(this.activeTab)||this.setActiveTab((0,E.last)(n)),this.resetFirstAvailableLocale()},keyPressFileName:function(e){var t=String.fromCharCode(e.keyCode),n=e.target.value.slice(-1);if(" "!==t&&"_"!==t||"-"===n){if("-"===t&&"-"===n)e.target.value+="";else if(new RegExp("^["+C.bM+"]+$").test(t))return!0}else e.target.value+="-";e.preventDefault()},submit:function(){var e=this.form,t=this,n=null;if(this.media.id?(n=route("admin.media.update",this.media.id),e._method="put"):(n=this.isAjax?route("api.admin.media.store"):route("admin.media.store"),e.file=this.media.file),t.loader=t.$loading.show({}),t.isInputDisabled=!0,this.isAjax){var o=new FormData;(0,C.GZ)(o,e),axios.post(n,o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$emit("on-success-submit",e)})).catch((function(e){t.$emit("on-error-submit",e)})).then((function(){t.loader.hide(),t.isInputDisabled=!1}))}else{(0,S.cI)(e).post(n,{onSuccess:function(e){t.$emit("on-success-submit",e),t.formErrors={}},onError:function(e){t.formErrors=e},onFinish:function(){t.loader.hide(),t.isInputDisabled=!1}})}}},computed:{availableLocales:function(){return Z(this.form.translations,this.localeOptions)},usedLocales:function(){var e=(0,E.keys)(this.form.translations);return this.localeOptions.filter((function(t){return e.includes(t.id)}))},isImage:function(){return this.media.is_image},canSubmit:function(){return!(0,E.isEmpty)(this.form.file_name)}}},x=(0,v.Z)(w,[["render",function(e,t,n,m,p,f){var b=(0,o.resolveComponent)("sdb-error-notifications"),v=(0,o.resolveComponent)("sdb-form-input"),h=(0,o.resolveComponent)("sdb-button-delete"),k=(0,o.resolveComponent)("sdb-select"),g=(0,o.resolveComponent)("sdb-button-icon"),y=(0,o.resolveComponent)("sdb-form-textarea"),B=(0,o.resolveComponent)("sdb-button");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(b,{errors:p.formErrors},null,8,["errors"]),(0,o.createElementVNode)("form",{onSubmit:t[5]||(t[5]=(0,o.withModifiers)((function(e){return f.submit(m.form,n.media.id)}),["prevent"]))},[(0,o.createVNode)(v,{modelValue:m.form.file_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return m.form.file_name=e}),label:"File Name",maxlength:"250",required:"",message:e.error("file_name","default",p.formErrors),disabled:p.isInputDisabled,onOnKeypress:f.keyPressFileName},null,8,["modelValue","message","disabled","onOnKeypress"]),(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("ul",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(f.usedLocales,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("li",{class:(0,o.normalizeClass)({"is-active":e.id==m.activeTab}),key:e.id},[(0,o.createElementVNode)("a",{onClick:(0,o.withModifiers)((function(t){return f.setActiveTab(e.id)}),["prevent"])},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.id.toUpperCase()),1),e.id!==m.defaultLocale?((0,o.openBlock)(),(0,o.createBlock)(h,{key:0,class:"ml-1",type:"button",onClickOnce:(0,o.withModifiers)((function(t){return f.deleteTranslation(t,e.id)}),["stop"])},null,8,["onClickOnce"])):(0,o.createCommentVNode)("",!0)],8,l)],2)})),128)),f.availableLocales.length?((0,o.openBlock)(),(0,o.createElementBlock)("li",a,[(0,o.createVNode)(k,{modelValue:m.selectedLocale,"onUpdate:modelValue":t[1]||(t[1]=function(e){return m.selectedLocale=e})},{default:(0,o.withCtx)((function(){return[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(f.availableLocales,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{value:e.id},(0,o.toDisplayString)(e.name),9,s)})),256))]})),_:1},8,["modelValue"]),(0,o.createVNode)(g,{icon:"fas fa-plus",type:"button",onClick:f.addTranslation},null,8,["onClick"])])):(0,o.createCommentVNode)("",!0)])]),m.form.translations[m.activeTab]?((0,o.openBlock)(),(0,o.createElementBlock)("div",i,[f.isImage?((0,o.openBlock)(),(0,o.createBlock)(v,{key:0,modelValue:m.form.translations[m.activeTab].alt,"onUpdate:modelValue":t[2]||(t[2]=function(e){return m.form.translations[m.activeTab].alt=e}),maxlength:"255",disabled:p.isInputDisabled,label:p.label.alternative_text,message:e.error("translations."+m.activeTab+".alt")},null,8,["modelValue","disabled","label","message"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(y,{label:p.label.description,modelValue:m.form.translations[m.activeTab].description,"onUpdate:modelValue":t[3]||(t[3]=function(e){return m.form.translations[m.activeTab].description=e}),placeholder:"...",rows:"3",message:e.error("translations."+m.activeTab+".description"),disabled:p.isInputDisabled},null,8,["label","modelValue","message","disabled"])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",c,[(0,o.createVNode)(B,{class:"is-link",disabled:!f.canSubmit},{default:(0,o.withCtx)((function(){return[u]})),_:1},8,["disabled"]),(0,o.createVNode)(B,{class:"is-link is-light ml-2",type:"button",onClick:t[4]||(t[4]=function(t){return e.$emit("cancel")})},{default:(0,o.withCtx)((function(){return[d]})),_:1})])],32)],64)}]])},2363:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(3680),r=["type"];const l={name:"SdbButton",props:{type:{type:String,default:"submit"}}};const a=(0,n(3744).Z)(l,[["render",function(e,t,n,l,a,s){return(0,o.openBlock)(),(0,o.createElementBlock)("button",{class:"button",type:n.type},[(0,o.renderSlot)(e.$slots,"default")],8,r)}]])},1358:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(3680);const r={name:"SdbButtonIcon",components:{SdbButton:n(2363).Z},props:["icon","iconClass"]};const l=(0,n(3744).Z)(r,[["render",function(e,t,n,r,l,a){var s=(0,o.resolveComponent)("sdb-button");return(0,o.openBlock)(),(0,o.createBlock)(s,null,{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["icon",n.iconClass])},[(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)(n.icon)},null,2)],2),(0,o.renderSlot)(e.$slots,"default")]})),_:3})}]])},1997:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(3680),r={key:0,class:"notification is-danger"},l={class:"alert alert-danger"};const a={props:{errors:Object},mounted:function(){this.hasError&&(this.isVisible=!0)},data:function(){return{isVisible:!1}},computed:{hasError:function(){return this.errors&&Object.keys(this.errors).length>0}},watch:{errors:{deep:!0,handler:function(){this.isVisible=!0}}}};const s=(0,n(3744).Z)(a,[["render",function(e,t,n,a,s,i){return s.isVisible&&i.hasError?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("button",{class:"delete",onClick:t[0]||(t[0]=(0,o.withModifiers)((function(e){return s.isVisible=!1}),["prevent"]))}),(0,o.createElementVNode)("ul",l,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.errors,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("li",null,(0,o.toDisplayString)(e[0]),1)})),256))],64)})),256))])])):(0,o.createCommentVNode)("",!0)}]])},4250:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(3680),r={class:"field"};const l={name:"SdbField"};const a=(0,n(3744).Z)(l,[["render",function(e,t,n,l,a,s){return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.renderSlot)(e.$slots,"default")])}]])},8610:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(3680),r={class:"control"};var l=n(4250),a=n(8651);const s={name:"SdbFormField",components:{SdbField:l.Z,SdbLabel:a.Z},props:{isRequired:{type:Boolean,default:!1}}};const i=(0,n(3744).Z)(s,[["render",function(e,t,n,l,a,s){var i=(0,o.resolveComponent)("sdb-label"),c=(0,o.resolveComponent)("sdb-field");return(0,o.openBlock)(),(0,o.createBlock)(c,null,{default:(0,o.withCtx)((function(){return[(0,o.createVNode)(i,{"is-required":n.isRequired},{default:(0,o.withCtx)((function(){return[(0,o.renderSlot)(e.$slots,"label")]})),_:3},8,["is-required"]),(0,o.createElementVNode)("div",r,[(0,o.renderSlot)(e.$slots,"default")]),(0,o.renderSlot)(e.$slots,"error")]})),_:3})}]])},2206:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(3680);var r=n(8610),l=n(3725),a=n(6520);const s={name:"SdbFormInput",inheritAttrs:!1,components:{SdbFormField:r.Z,SdbInput:l.Z,SdbInputError:a.Z},emits:["update:modelValue","on-keypress","on-blur"],props:{label:{type:String},message:{type:Object},modelValue:{type:[String,Number]},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1}}};const i=(0,n(3744).Z)(s,[["render",function(e,t,n,r,l,a){var s=(0,o.resolveComponent)("sdb-input"),i=(0,o.resolveComponent)("sdb-input-error"),c=(0,o.resolveComponent)("sdb-form-field");return(0,o.openBlock)(),(0,o.createBlock)(c,{"is-required":n.required},{label:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(n.label),1)]})),error:(0,o.withCtx)((function(){return[(0,o.createVNode)(i,{message:n.message},null,8,["message"])]})),default:(0,o.withCtx)((function(){return[(0,o.createVNode)(s,(0,o.mergeProps)(e.$attrs,{class:{"is-danger":n.message},disabled:n.disabled,required:!!n.required,value:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)}),onKeypress:t[1]||(t[1]=function(t){return e.$emit("on-keypress",t)}),onBlur:t[2]||(t[2]=function(t){return e.$emit("on-blur",t)})}),null,16,["class","disabled","required","value"])]})),_:1},8,["is-required"])}]])},3025:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(3680),r={class:"field"},l={class:"control"};var a=n(6520),s=n(8651),i=["value"];const c={props:["modelValue","hasError"],emits:["update:modelValue"],methods:{}};var u=n(3744);const d=(0,u.Z)(c,[["render",function(e,t,n,r,l,a){return(0,o.openBlock)(),(0,o.createElementBlock)("textarea",{class:"textarea",value:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})},"\n    ",40,i)}]]),m={components:{SdbInputError:a.Z,SdbLabel:s.Z,SdbTextarea:d},emits:["update:modelValue"],props:["label","message","modelValue","placeholder","disabled","rows"]},p=(0,u.Z)(m,[["render",function(e,t,n,a,s,i){var c=(0,o.resolveComponent)("sdb-label"),u=(0,o.resolveComponent)("sdb-textarea"),d=(0,o.resolveComponent)("sdb-input-error");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createVNode)(c,null,{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(n.label),1)]})),_:1}),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(u,{disabled:n.disabled,placeholder:n.placeholder,value:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)}),rows:n.rows},null,8,["disabled","placeholder","value","rows"])]),(0,o.createVNode)(d,{message:n.message},null,8,["message"])])}]])},3725:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(3680),r=["value"];const l={props:{hasError:{type:Boolean,default:!1},modelValue:{}},emits:["update:modelValue"],methods:{focus:function(){this.$refs.input.focus()}}};const a=(0,n(3744).Z)(l,[["render",function(e,t,n,l,a,s){return(0,o.openBlock)(),(0,o.createElementBlock)("input",{ref:"input",class:(0,o.normalizeClass)(["input",{"is-danger":n.hasError}]),value:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)})},null,42,r)}]])},6520:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(3680),r={class:"help is-danger"};var l=n(2489);const a={props:["message"],computed:{isArrayMessage:function(){return!(0,l.fp)(this.message)&&Array.isArray(this.message)}}};const s=(0,n(3744).Z)(a,[["render",function(e,t,n,l,a,s){return s.isArrayMessage?((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:0},(0,o.renderList)(n.message,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("p",r,(0,o.toDisplayString)(e),1)})),256)):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("p",{key:1,class:"help is-danger"},(0,o.toDisplayString)(n.message),513)),[[o.vShow,n.message]])}]])},8651:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(3680),r={key:0};const l={props:{class:{default:[]},isRequired:Boolean}};const a=(0,n(3744).Z)(l,[["render",function(e,t,n,l,a,s){return(0,o.openBlock)(),(0,o.createElementBlock)("label",{class:(0,o.normalizeClass)(["label",n.class])},[(0,o.renderSlot)(e.$slots,"default"),n.isRequired?((0,o.openBlock)(),(0,o.createElementBlock)("span",r,"*")):(0,o.createCommentVNode)("",!0)],2)}]])},5246:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(3680),r=["disabled"],l={key:0,value:null};var a=n(2489);const s={name:"SdbSelect",props:["modelValue","class","disabled","placeholder"],emits:["change","update:modelValue"],setup:function(e,t){var n=t.emit;return{selected:(0,a.Zd)(e,n)}},methods:{focus:function(){this.$refs.input.focus()}}};const i=(0,n(3744).Z)(s,[["render",function(e,t,n,a,s,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["select",n.class])},[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.selected=e}),disabled:n.disabled,onChange:t[1]||(t[1]=function(t){return e.$emit("change",t)})},[n.placeholder?((0,o.openBlock)(),(0,o.createElementBlock)("option",l,(0,o.toDisplayString)(n.placeholder),1)):(0,o.createCommentVNode)("",!0),(0,o.renderSlot)(e.$slots,"default")],40,r),[[o.vModelSelect,a.selected]])],2)}]])}}]);