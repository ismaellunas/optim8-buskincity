"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[360],{30655:(e,n,t)=>{t.d(n,{Z:()=>r});var l=t(76024),i=t(70902),o=t(42523);const r={components:{BizButton:l.Z,BizLink:i.Z},props:{links:{type:Array,default:function(){return[]}},isAjax:{type:Boolean,default:!1},queryParams:{type:Object,default:function(){}}},emits:["on-clicked-pagination"],computed:{previousLink:function(){return this.links[0]},previousLinkUrl:function(){return(0,o.fp)(this.previousLink.url)?"":this.previousLink.url+this.serializedParams},nextLink:function(){return this.links[this.links.length-1]},nextLinkUrl:function(){return(0,o.fp)(this.nextLink.url)?"":this.nextLink.url+this.serializedParams},paginationLinks:function(){var e=this.links.slice();return e.pop(),e.shift(),e},serializedParams:function(){return(0,o.fp)(this.queryParams)?"":"&"+(0,o.qC)(this.queryParams)}},methods:{isBlank:o.fp}}},4890:(e,n,t)=>{t.d(n,{Z:()=>i});var l=t(42523);const i={name:"BizSelect",props:["modelValue","disabled","placeholder","name"],emits:["change","update:modelValue"],setup:function(e,n){var t=n.emit;return{selected:(0,l.Zd)(e,t)}},methods:{focus:function(){this.$refs.input.focus()}}}},66797:(e,n,t)=>{t.d(n,{s:()=>s});var l=t(70821),i={key:0},o={class:"pagination is-centered",role:"navigation","aria-label":"pagination"},r={class:"pagination-list"},a={key:0,class:"pagination-ellipsis"};function s(e,n,t,s,c,d){var u=(0,l.resolveComponent)("biz-button"),m=(0,l.resolveComponent)("biz-link");return t.links.length>3?((0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createElementVNode)("nav",o,[t.isAjax?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createVNode)(u,{class:"pagination-previous",disabled:d.isBlank(d.previousLink.url)?1:null,onClick:n[0]||(n[0]=(0,l.withModifiers)((function(n){return e.$emit("on-clicked-pagination",d.previousLink.url)}),["prevent"])),innerHTML:d.previousLink.label},null,8,["disabled","innerHTML"]),(0,l.createVNode)(u,{class:"pagination-next",disabled:d.isBlank(d.nextLink.url)?1:null,onClick:n[1]||(n[1]=(0,l.withModifiers)((function(n){return e.$emit("on-clicked-pagination",d.nextLink.url)}),["prevent"])),innerHTML:d.nextLink.label},null,8,["disabled","innerHTML"])],64)):((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createVNode)(m,{class:"pagination-previous",href:d.previousLinkUrl,disabled:d.isBlank(d.previousLinkUrl)?1:null,innerHTML:d.previousLink.label},null,8,["href","disabled","innerHTML"]),(0,l.createVNode)(m,{class:"pagination-next",disabled:d.isBlank(d.nextLinkUrl)?1:null,href:d.nextLinkUrl,innerHTML:d.nextLink.label},null,8,["disabled","href","innerHTML"])],64)),(0,l.createElementVNode)("ul",r,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(d.paginationLinks,(function(n,i){return(0,l.openBlock)(),(0,l.createElementBlock)("li",{key:i},[d.isBlank(n.url)?((0,l.openBlock)(),(0,l.createElementBlock)("span",a," â€¦ ")):((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[t.isAjax?((0,l.openBlock)(),(0,l.createBlock)(u,{key:0,class:(0,l.normalizeClass)(["pagination-link",{"is-current":n.active}]),type:"button",onClick:(0,l.withModifiers)((function(t){return e.$emit("on-clicked-pagination",n.url)}),["prevent"]),innerHTML:n.label},null,8,["class","onClick","innerHTML"])):((0,l.openBlock)(),(0,l.createBlock)(m,{key:1,href:n.url+d.serializedParams,class:(0,l.normalizeClass)(["pagination-link",{"is-current":n.active}]),innerHTML:n.label},null,8,["href","class","innerHTML"]))],64))])})),128))])])])):(0,l.createCommentVNode)("",!0)}},48122:(e,n,t)=>{t.d(n,{s:()=>a});var l=t(70821),i={class:"select"},o=["disabled","name"],r={key:0,value:null};function a(e,n,t,a,s,c){return(0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.withDirectives)((0,l.createElementVNode)("select",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return a.selected=e}),disabled:t.disabled,name:t.name,onChange:n[1]||(n[1]=function(n){return e.$emit("change",n)})},[t.placeholder?((0,l.openBlock)(),(0,l.createElementBlock)("option",r,(0,l.toDisplayString)(t.placeholder),1)):(0,l.createCommentVNode)("",!0),(0,l.renderSlot)(e.$slots,"default")],40,o),[[l.vModelSelect,a.selected]])])}},50360:(e,n,t)=>{t.r(n),t.d(n,{default:()=>x});var l=t(70821),i={class:"column is-6"},o={class:"columns"},r={class:"column"},a={class:"column"},s=["value"],c={class:"table-container",style:{width:"100%"}},d=(0,l.createElementVNode)("th",null,null,-1),u=["innerHTML"],m={key:1},k=["colspan"],p={class:"level",style:{width:"100%"}},f=(0,l.createElementVNode)("div",{class:"level-left"},null,-1),h={class:"level-right"};var v=t(9772),B=t(64219),g=t(48414),L=t(81429),b=t(42439),V=t(314),y=t(96746),N=t(59641),C=t(96486);const E={name:"FormBuilderEntryWidget",components:{BizButtonLink:v.Z,BizLoader:B.Z,BizPagination:g.Z,BizPanel:L.Z,BizPanelBlock:b.Z,BizSelect:V.Z,BizTable:y.Z},props:{data:{type:Object,required:!0},title:{type:String,default:""}},data:function(){return{fieldLabels:[],fieldNames:[],icon:N.ZP,isLoading:!1,records:[],selectedForm:null}},computed:{hasRecords:function(){var e,n;return(null===(e=this.records)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.length)>0}},mounted:function(){this.selectedForm=(0,C.head)(Object.keys(this.data.formLists)),this.getRecords()},methods:{getRecords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this;e=e||route("admin.api.widget.form-builder.entries",n.selectedForm),n.isLoading=!0,axios.get(e).then((function(e){n.fieldLabels=e.data.fieldLabels,n.fieldNames=e.data.fieldNames,n.records=e.data.records})).then((function(){n.isLoading=!1}))},onSelectedFormChange:function(){this.getRecords()}}};const x=(0,t(83744).Z)(E,[["render",function(e,n,t,v,B,g){var L=(0,l.resolveComponent)("biz-select"),b=(0,l.resolveComponent)("biz-loader"),V=(0,l.resolveComponent)("biz-button-link"),y=(0,l.resolveComponent)("biz-table"),N=(0,l.resolveComponent)("biz-panel-block"),C=(0,l.resolveComponent)("biz-pagination"),E=(0,l.resolveComponent)("biz-panel");return(0,l.openBlock)(),(0,l.createElementBlock)("div",i,[(0,l.createVNode)(E,{class:"is-white is-relative"},{heading:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",r,(0,l.toDisplayString)(t.title),1),(0,l.createElementVNode)("div",a,[(0,l.createVNode)(L,{modelValue:B.selectedForm,"onUpdate:modelValue":n[0]||(n[0]=function(e){return B.selectedForm=e}),class:"is-small is-pulled-right",onChange:n[1]||(n[1]=function(e){return g.onSelectedFormChange()})},{default:(0,l.withCtx)((function(){return[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(t.data.formLists,(function(e,n,t){return(0,l.openBlock)(),(0,l.createElementBlock)("option",{key:t,value:n},(0,l.toDisplayString)(e),9,s)})),128))]})),_:1},8,["modelValue"])])])]})),default:(0,l.withCtx)((function(){var i,o;return[(0,l.createVNode)(b,{modelValue:B.isLoading,"onUpdate:modelValue":n[2]||(n[2]=function(e){return B.isLoading=e}),"is-full-page":!1},null,8,["modelValue"]),(0,l.createVNode)(N,null,{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",c,[(0,l.createVNode)(y,{"is-fullwidth":""},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("thead",null,[(0,l.createElementVNode)("tr",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(B.fieldLabels,(function(e,n){return(0,l.openBlock)(),(0,l.createElementBlock)("th",{key:n},(0,l.toDisplayString)(e),1)})),128)),d])]),(0,l.createElementVNode)("tbody",null,[g.hasRecords?((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,{key:0},(0,l.renderList)(B.records.data,(function(n,i){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{key:i},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(B.fieldNames,(function(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("td",{key:t,class:"content",innerHTML:n[e]},null,8,u)})),128)),(0,l.createElementVNode)("td",null,[(0,l.createVNode)(V,{class:"is-primary is-outlined is-small",href:e.route(t.data.baseRouteName+".entries.show",{form_builder:B.selectedForm,entry:n.id})},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)(" View Detail ")]})),_:2},1032,["href"])])])})),128)):((0,l.openBlock)(),(0,l.createElementBlock)("tr",m,[(0,l.createElementVNode)("td",{class:"has-text-centered",colspan:B.fieldLabels.length+1}," Empty ",8,k)]))])]})),_:1})])]})),_:1}),(null===(i=B.records)||void 0===i||null===(o=i.links)||void 0===o?void 0:o.length)>3?((0,l.openBlock)(),(0,l.createBlock)(N,{key:0},{default:(0,l.withCtx)((function(){var e;return[(0,l.createVNode)(C,{links:null===(e=B.records)||void 0===e?void 0:e.links,"is-ajax":!0,onOnClickedPagination:g.getRecords},null,8,["links","onOnClickedPagination"])]})),_:1})):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(N,null,{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",p,[f,(0,l.createElementVNode)("div",h,[B.selectedForm?((0,l.openBlock)(),(0,l.createBlock)(V,{key:0,class:"is-primary is-outlined is-small",href:e.route(t.data.baseRouteName+".entries",B.selectedForm)},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)(" View All ")]})),_:1},8,["href"])):(0,l.createCommentVNode)("",!0)])])]})),_:1})]})),_:1})])}]])},48414:(e,n,t)=>{t.d(n,{Z:()=>o});var l=t(81216),i=t(76574);const o=(0,t(83744).Z)(i.Z,[["render",l.s]])},314:(e,n,t)=>{t.d(n,{Z:()=>o});var l=t(2560),i=t(29843);const o=(0,t(83744).Z)(i.Z,[["render",l.s]])},96746:(e,n,t)=>{t.d(n,{Z:()=>o});var l=t(70821);const i={name:"BizTable",props:{isFullwidth:{type:Boolean,default:!1}}};const o=(0,t(83744).Z)(i,[["render",function(e,n,t,i,o,r){return(0,l.openBlock)(),(0,l.createElementBlock)("table",{class:(0,l.normalizeClass)(["table",{"is-fullwidth":t.isFullwidth}])},[(0,l.renderSlot)(e.$slots,"default")],2)}]])},76574:(e,n,t)=>{t.d(n,{Z:()=>l.Z});var l=t(30655)},29843:(e,n,t)=>{t.d(n,{Z:()=>l.Z});var l=t(4890)},81216:(e,n,t)=>{t.d(n,{s:()=>l.s});var l=t(66797)},2560:(e,n,t)=>{t.d(n,{s:()=>l.s});var l=t(48122)}}]);